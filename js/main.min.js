var _eventQueue=[],_EVENT_FLUSH_THRESHOLD=5;function trackEvent(e,t,a){("undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.TRACK_EVENTS_URL?SHEETS_CONFIG.TRACK_EVENTS_URL:"")&&(_eventQueue.push({type:e,sku:t,name:a}),_eventQueue.length>=_EVENT_FLUSH_THRESHOLD&&flushEvents())}function flushEvents(){if(0!==_eventQueue.length){var e="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.TRACK_EVENTS_URL?SHEETS_CONFIG.TRACK_EVENTS_URL:"";if(e){var t=JSON.stringify({events:_eventQueue});_eventQueue=[],navigator.sendBeacon&&navigator.sendBeacon(e,new Blob([t],{type:"application/json"}))}}}document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&flushEvents()});var SV_LOGO_SVG='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 2" viewBox="0 0 797.15 942.65"><g data-name="Layer 1"><path d="M67.88 876.85c71.18 35.21 208.97 46.04 324.73 44.8-5.81-11.76-6.6-24.49-2.6-36.02-10.83-1.36-19.04-9.7-23.55-14.29l-.24-.26c-13.72-14.95-15.42-38.83-4.01-55.68.16-.28.36-.55.55-.84-3.89 4.75-8.86 9.15-14.76 13.01-2.12 1.41-4.61 2.12-7.1 2.12-.29 0-.58 0-.88-.02-4.25 3.63-8.63 6.24-12.13 8.16l-.28.15c-5.16 2.79-11.22 5.64-16.96 5.64-4.57 0-8.68-1.77-11.55-4.96-1.51-1.69-2.6-3.67-3.21-5.84-2.32.5-4.74.75-7.23.75-6.36 0-12.11-1.57-17.69-3.08-4.8-1.31-9.36-2.55-13.66-2.55-.52 0-1.05.02-1.57.05-.32.03-.65.05-.96.05-4.27 0-8.27-2.09-10.7-5.63-2.61-3.81-3-8.71-1.04-12.89 1.61-3.39 2.42-7.93 3.28-12.72 1.49-8.24 3.28-18.13 9.99-26.52-.32-.28-.63-.57-.94-.89l-.13-.13c-4.14-4.44-5.14-10.82-2.61-16.62 3.6-8.3 16.57-16.93 27.77-21.52.96-2.29 2.71-4.8 5.87-6.91 7.54-5 16.32-7.61 25.41-7.61 7.04 0 13.82 1.62 19.71 4.61-.52-1.64-1.04-3.24-1.52-4.75-30.02-32.79-53.73-70.34-76.66-106.68-40.01-63.37-74.95-118.7-132.47-135.18-.44 3.54-.79 6.68-.84 8.21-.37 11.6-.16 20.66.67 27.77.11.73.81 3.55 1.22 5.24 1.18 4.88 1.9 7.8 1.48 10.7 14.31-7.74 32.63-8.17 47.03-.57 14.24 7.51 22.12 21.54 21.99 38.84 8.06-.16 15.62 1.48 22.24 4.96 18.52 9.78 31.85 37.24 21.07 64.57-3.58 9.07-10.22 17.66-20.05 22.82 1.77 3.36 2.48 7.01 3.02 9.67.15.7.26 1.36.41 1.95l.1.39.08.41c2.24 13.4-1.22 27.04-9.21 36.49l-.21.28c-4.12 4.88-9.11 8.71-14.58 11.48.36.42.7.88 1.02 1.35l.28.42.24.44c8.3 15.52 6.28 36.75-4.72 49.39l-.19.23c-9.72 11.42-25.35 17.58-40.85 16.2-5.63-.31-11.06-1.82-16.15-4.51-15.78-8.32-24.73-25.48-24-43.04-2.61.58-5.35.55-8.13-.16l-.23-.06c-3.42-.66-7.02-1.99-10.79-3.99a53 53 0 0 1-3.02-1.7 55 55 0 0 1-7.2-4.78c-4.65 7.74-8.13 15.94-5.73 25.95 1.04 4.35 5.89 7.56 6.03 11.34.15 4.88-7.06 12.41-8.17 17.92-1.99 9.81.21 17.97-3.8 28.92-10.72 28.97-52.01 40.35-1.83 65.18ZM597.37 808.86a431 431 0 0 1-27.3 2.16c9.16 8.09 14.99 19.15 15.84 30.41l.03.34c.52 6.58-.37 13.02-2.38 19.02.57.05 1.15.13 1.72.26l.52.1.49.15c16.38 5.09 29.7 20.6 32.05 36.83 27.6-6.16 54.17-13.85 70.13-22.8-3.1-.52-6.28-1.17-9.36-2-2.16 2.08-5.94 4.53-11.82 4.53l-.55-.02c-23.94-.6-46.17-14.56-56.68-35.57-5.53-11.06-7.22-22.85-5.16-34.32-2.48.32-5 .62-7.53.91"/><path d="M730.53 857.31c-.21-1.74-19.62-20.58-17.91-29.01 9.13.88 16.07 4.43 25.92 3.44 25.53-2.61 37.76-29.37 58.61-41.67-29.24-18.15-33-59.51-77.44-44.36 1.87-12.54 11.06-18.54 17.95-26.6s-15.2-10.41-19.61-10.93c-12.76-1.51-25.14-1.22-37.03 4.05l1.72-9.26c-10.1-.31-19.4.84-27.51 3.36-27.17 8.38-41.02 32.08-27.07 68.08l-7.1 1.75c-21.75 2.3-43.66 3.39-65.52 2.6 1.35 6.26 1.48 12.97-.15 19.71 13.53-.13 27.09-1.02 40.55-2.51 2.79-.31 5.56-.63 8.35-1.01 7.17-.92 14.32-2.03 21.42-3.29-23.84 33.52 5.3 72.3 41.34 73.21 7.9.19.37-9.73 4.22-9.31 3.47 4.12 17.32 7.33 30.75 8.34 14.87 1.12 29.24-.49 28.5-6.58ZM362.76 814.56c.88-1.05 1.7-2.12 2.47-3.21-.97 1.15-1.8 2.24-2.47 3.21M500.68 824.29l-.23-.39c-13.19-22.9-43.09-22.07-59.38-2.92-19.37 24.99 2.43 64.19 34.95 58.99 28.4-3.67 38.39-32.49 24.65-55.68ZM608.06 900.34c-1.48-12.73-12.16-25.07-24.86-29.01-3.78-.78-5.21 3.39-7.46 5.71-4.04 5.25-9.73 9.03-16.07 11.68-4.83 2.09-9.76 3.78-15.1 4.46-2.45.39-5.38.73-7.22 2.38-3.96 4.46-3.97 11.08-2.42 17.18.55 2.16 1.3 4.25 2.12 6.16 9.75 23.57 39.78 30.96 56.52 16.02 9.67-7.9 15.54-20.57 14.64-32.73l-.03-.49c-.03-.45-.06-.91-.13-1.36ZM471.03 893.02c-.75-1.1-2.22-1.51-3.57-1.93-9.02-2.56-18.33-3.34-25.36-9.67-4.51-3.68-7.12-7.49-10.72-11.5-1.82-1.96-3.91-3.88-6.68-3.91-6.99.6-13.82 6.55-18.54 11.94-11.03 13.48-9.84 29.83-2.5 42.09.29.49.6.96.91 1.43 15.55 23.37 50 18.89 62.64-2.42 4.12-6.93 5.92-15.63 4.02-25.74l-.19-.29Z"/><path d="M536.91 811.18c3.68-4.05 6.16-8.37 7.61-12.75 2.24-6.76 2.04-13.7.06-20.22-1.44-4.83-3.89-9.42-7.06-13.54-12.71-16.64-37.11-25.51-55.86-10.41-3.39 2.72-6.58 6.24-9.5 10.64-.15.21-.29.44-.44.67l-.24.41c-2.42 4.61-4.93 13.92-5.39 21.34-.21 3.76.08 7.04 1.2 8.97 2.47 2.9 7.15 2.29 10.64 3.13 6.73.96 11.76 4.17 17.32 7.59.02.02.03.02.05.03 2.72 1.74 5.37 3.75 7.64 6.11 7.98 9.05 9.2 15.16 19.95 8.9 5.87-3.29 10.49-6.97 14.01-10.87ZM560.07 816.4c-2.27-1.38-5.4-3.91-8.38-4.93-1.57-.55-3.1-.68-4.46-.03-.62.31-1.22.78-1.75 1.46-4.85 6.47-9.37 12.41-17.5 15.23-3.94 2.24-11.81 2.63-11.11 8.58.5 6.02 1.33 14.3-.28 20.81-3.94 13.22-10.54 12.85 5.04 21.28 26.03 14.87 56.1-8.19 53.86-36.15l-.03-.42c-.75-9.8-6.78-19.59-15.39-25.82ZM464.69 762.36c.21-.66.36-1.35.42-2.06l-.08-.41c-10.62-12.39-23.08-15.33-34.19-12.57-9 2.24-17.14 8.22-22.72 15.96-4.8 6.63-7.72 14.55-7.72 22.51 0 10.75 5.32 21.55 18.52 29.37 12 8.09 14.3-3.6 22.35-9.81 3.62-3.08 9.62-5.11 14.45-7.61.08-.03.15-.06.21-.1 3.28-1.44 2.95-4.91 2.64-8.03-.16-1.56-.29-3.11-.36-4.67-.19-4.17.1-8.3 1.69-12.34 1.02-3.84 3.73-6.84 4.78-10.25ZM423.58 830.22l-.15-.34c-1.18-1.87-3.89-2.24-5.81-3.18-10.19-3.55-14.55-12.62-22.2-19.74-5.63-6.33-21.31 8.82-24.38 14.11-8.94 12.94-7.64 31.43 2.89 42.91 4.77 4.85 11.11 10.88 18.26 11.32 1.39-.21 2.5-1.18 3.44-2.21 3.05-3.49 6.68-7.38 10.44-10.17 4.25-3.44 10.85-5.37 15.91-8.71 2.71-2.21 1.04-7.14.91-11.01-.99-4.56 1.15-8.87.68-12.99ZM493.77 939.21c1.07.37 2.09.71 3.05.94.92.13 2.12.19 3.52.15.13.02.26 0 .37 0 4.07.1 8.39-.57 12.47-1.7 4.2-.99 8.3-2.48 11.29-4.54.02-.02.03-.03.06-.05.15-.1.32-.18.47-.26 1.56-.91 2.61-2.12 3.16-3.52.1-.15.19-.31.28-.47v-.49c.28-1.28.16-2.68-.37-4.15-.02-.08-.05-.15-.06-.23-.65-3.57-1.93-7.28-2.9-10.9-.05-.18-.1-.36-.15-.53-.26-1.18-.5-2.35-.7-3.49-.39-1.93-.5-3.91-.42-5.92.02-.31.03-.63.06-.96.02-.21.05-.42.06-.63.08-.7.18-1.41.28-2.12.06-.41.15-.81.23-1.22.03-.1.05-.19.06-.31.29-1.31.68-2.6.86-3.73.02-.02.02-.05.02-.06.18-.91.26-1.8-.06-2.5l-.15-.29c-.06-.05-.15-.08-.19-.13l-.02-.02-.06-.06c-.84-.99-2.04-1.48-3.26-1.91-.08-.03-.18-.05-.24-.1-.11-.03-.23-.08-.34-.11-1.83-.76-3.8-1.4-5.66-2.19-1.15-.53-2.25-1.14-3.31-1.9-2.85-1.98-5.79-6.18-8.3-6.33-.06.02-.15.02-.19.03-.02 0-.05.02-.08.02-.39-.02-.8.02-1.22.15-.34.16-.73.32-1.15.52-.06.02-.13.03-.19.06-2.4.86-5.21 2.25-7.93 3.68-.08.03-.18.1-.28.15-2.58 1.27-5.16 2.63-7.23 3.93-.03.02-.08.05-.11.06-.05.03-.1.05-.15.08-.29.15-.6.29-.86.44-.21.16-.42.37-.58.55v.02c-.11.08-.24.16-.34.24-.11.18-.16.37-.26.55-.05.08-.11.15-.16.23 0 .03-.02.05-.02.1-.67 1.22-.91 2.69-.94 4.27-.02.32-.02.63-.02.94 0 .15.02.29.02.45 0 1.85.15 3.75.16 5.56-.02.45-.03.91-.1 1.33 0 .24.02.47.03.71-.02.13-.02.29-.03.42.03.83.02 1.61-.02 2.38-.02.15-.02.31-.02.47-.02.06-.02.13-.03.21-.32 3.92-1.41 7.56-2.77 11.22-.1.29-.21.58-.32.88-.39.99-.79 2.01-1.22 3.05-.15.34-.28.68-.42 1.02-.05.13-.1.29-.15.42-.11.28-.21.55-.29.81-.02.05-.03.11-.05.16 0 .02 0 .03-.02.05-.03.08-.06.16-.08.28-.58 1.77-.84 3.57.71 4.88.28.21.55.42.89.67.29.19.62.44.92.65.06.05.11.1.18.13.29.21.55.41.88.63 3.75 2.56 8.77 5.56 13.23 7.27.06.02.11.05.16.06M96.83 644.7c2.34 4.99 6 9.54 11.11 13.19 22.06 16.77 48.54 3.7 54.85-21.62l.11-.44c6.49-24.75-14.69-44.52-38.96-42.38-10.8 1.44-19.24 7.69-24.44 15.96v.02c-6.54 10.36-8 23.94-2.68 35.26v.02ZM151.61 775.68c12.03 1.12 24.68-3.62 32.36-12.6l.31-.36c8.4-9.67 9.72-26.18 3.42-37.94-2.08-3.1-5.89-1.2-9.02-1.14-6.36.88-12.86-.39-19.04-2.89-4.75-1.85-9.29-4.04-13.43-7.19-1.95-1.39-4.22-3.16-6.6-3.28-7.78.52-13.3 8.69-16.07 15.91-9.29 22.87 6.37 48.4 28.07 49.47ZM95.37 664.07c.06-.08.11-.18.18-.26l.08-.32c.08-.49.03-.97-.11-1.46V662c-.21-.76-.65-1.54-1.04-2.27-4.49-7.9-10.36-14.76-10.93-23.91-.58-5.6.19-10.01.44-15.23.08-2.58-.06-5.32-1.96-7.22-5.21-4.35-13.96-4.88-20.87-4.38-16.77 1.78-27.07 13.85-30.34 27.31-8.66 36.12 41.49 61.57 64.57 27.77Z"/><path d="m182.77 576.08-.45.13c-7.22 2.29-21.86 11.82-23.48 18.03-.28 3.68 3.37 6.44 5.19 9.39 4.01 5.25 5.29 10.87 6.8 17.01.7 3.07 1.15 6.28 1.12 9.47-.65 11.66-3.97 16.71 7.7 19.69 66.53 18.18 64.32-87.4 3.13-73.73ZM201.89 699.78l.26-.31c6.15-7.25 8.64-18.12 6.94-28.25-1.1-4.44-1.62-13.12-7.67-12.36-7.75 1.17-14.9 2.19-22.43-1.41-4.23-1.12-9.93-6.2-13.48-1.62-3.76 4.48-8.81 10.75-14.35 14.16-11.69 6.44-16.01 1.67-10.98 18.1 7.82 27.94 44.24 32.49 61.71 11.69M112.62 574.38c2.77 13.74 12.31 7.23 22.07 8.43 4.67.34 10.28 3.08 15.36 4.65 3.24 1.25 5.37-1.38 7.28-3.75 3.52-4.36 7.2-8.48 12.49-10.82 3.96-2.35 8.77-2.21 11.95-4.95l.21-.32c3.78-54.25-83.3-46.04-69.37 6.75ZM102 552.74c.26-5.01-7.54-7.04-14.95-7.51-4.69-.28-9.23.06-11.45.66-7.38 1.41-13.96 5.43-18.78 10.96h-.02c-4.96 5.68-8.11 12.94-8.38 20.58 0 6.58.26 15.05 4.9 20.22 1.1.79 2.53.88 3.86.83 4.49-.34 9.63-.55 14.13.08 5.25.52 11.13 3.68 16.9 4.82 3.36.32 5.55-4.22 8.11-6.97 1.18-1.88 2.84-3.2 4.53-4.41v-.02c1.74-1.28 3.5-2.47 4.77-4.07l.13-.34c.45-2.08-1.17-4.18-1.85-6.13-.88-1.78-1.46-3.55-1.87-5.34v-.02c-1.65-7.57.36-15.16-.02-23.35ZM94.75 679.73c-.18.16-.34.34-.52.5l-.34.31c-.05.05-.11.08-.16.13-3.11 2.68-6.62 4.51-10.36 6.23-.96.42-1.91.84-2.92 1.28-.32.15-.65.28-.97.42-.13.05-.26.13-.39.18-.26.13-.52.24-.76.37-.05.02-.08.05-.13.08-.02 0-.03 0-.05.02-.08.03-.16.06-.26.13-1.59.83-3 1.88-2.82 3.86.05.34.1.66.18 1.05.05.34.13.73.18 1.09.02.06.03.15.05.21.05.34.1.66.18 1.02.83 4.33 2.25 9.81 4.17 14.01.03.05.05.11.08.16.47.97.96 1.91 1.44 2.71.57.73 1.35 1.59 2.34 2.5.08.1.18.18.26.26.91.94 1.88 1.83 2.92 2.69 2.09 1.72 4.43 3.28 6.83 4.61 3.57 2.17 7.43 3.94 10.88 4.54.03.02.05.02.06.02.18.05.34.1.52.15 1.69.42 3.23.31 4.56-.28.18-.03.34-.08.5-.15l.26-.24s.05-.06.08-.08c1.05-.7 1.95-1.74 2.56-3.11.05-.08.08-.15.11-.21 2.08-3.05 3.78-6.67 5.68-9.96.62-.99 1.25-1.96 1.9-2.89 1.04-1.59 2.3-3.02 3.73-4.35l.68-.62c.16-.15.32-.26.49-.39.53-.44 1.07-.86 1.64-1.28.31-.24.65-.47.97-.68.1-.06.18-.11.26-.16 1.1-.71 2.24-1.35 3.13-1.99.02 0 .03-.03.05-.05.75-.49 1.41-1.05 1.66-1.75l.1-.31c-.02-.08-.03-.15-.05-.23v-.11c.1-1.25-.41-2.38-.94-3.52-.03-.08-.08-.16-.11-.24-.05-.1-.1-.19-.15-.31-.75-1.77-1.66-3.54-2.42-5.37-.42-1.14-.78-2.32-.99-3.55-.62-3.29.21-8.19-1.43-10.01-.05-.02-.1-.08-.15-.1-.02-.02-.05-.03-.06-.05-.26-.28-.57-.52-.96-.73-.32-.13-.71-.28-1.14-.42-.05-.03-.11-.06-.16-.1-2.25-1.02-5.14-2-7.98-2.84-.1-.05-.19-.06-.29-.1-2.64-.88-5.35-1.7-7.66-2.21-.03-.02-.08-.03-.13-.05-.05 0-.1-.02-.15-.02-.31-.11-.62-.23-.91-.31-.24-.02-.54-.03-.76 0h-.02c-.13-.02-.28-.05-.41-.06-.18.05-.36.15-.55.21-.08.02-.18.02-.26.03-.03.03-.05.03-.08.06-1.28.39-2.45 1.25-3.55 2.3-.23.21-.44.44-.65.63-.1.11-.19.23-.29.32-1.25 1.28-2.45 2.69-3.67 3.94-.32.32-.65.62-.97.86-.16.18-.32.34-.47.5-.1.1-.19.19-.31.28-.36.39-.73.78-1.1 1.12v.02Z"/><path d="M0 522.05c15.79 3.58 23.59 20.84 41.24 7.84 1.03 5.68-2.2 9.6-4.1 14.09-1.9 4.45 8.35 2.26 10.39 1.84 3.72-.75 7.26-1.78 10.49-3.44.04-.02.06-.04.08-.04 1.17-.59 2.3-1.27 3.4-2.04.69-.4 1.37-.75 2.1-1.07 3.09-1.48 6.37-2.59 9.76-3.28 1.46-.32 3.36-.63 5.54-.81 8.37-7.62 9.54-18.74-.89-30.93l12.66-7.72c-.08 4.77 1.23 9.87 2.16 14.52 1.17 5.84 2.37 11.83 4.39 17.45.3.83.67 2.37 1.39 2.97.36.28.26.26.79.04.83-.34 1.64-1.09 2.41-1.58 1.25-.83 2.53-1.7 3.82-2.49.4-.24.79-.49 1.19-.71.47-.26 3.54-1.39 3.54-2.06.24-.57-2.39-9.93-2.71-12.6-.18-1.74-.36-3.52-.49-5.36-.59-7.99-.51-16.64-.26-24.28.14-4.31 1.68-14.8 2.73-23.51 0-.04.02-.1.02-.14.34.06.69.12 1.01.2.02 0 .06 0 .08.02 108.5 19.53 144.29 157.95 230.57 250.77 4.87 14.98 10.01 30.81 8.9 33.38-1.88 4.27-8.07 10.13-11.46 13.61 1.48-25.13-26.85-33.94-45.29-21.73-3.94 2.63 3.13 4.73 1.09 5.82-6.55-1.54-34.47 14.6-29.82 19.59.71.75 16.68 2.95 18.72 7.52-4.81 2.73-9.44 3.42-13.93 7.28-11.73 10.01-8.63 26.87-14.76 39.83 20.64-1.52 36.57 16.7 53.33-5.74 3.34 6.55.87 12.55.22 18.72-.67 6.17 11.02-.32 13.36-1.58 6.81-3.7 12.82-8.09 16.9-14.68l2.3 4.95c22.1-14.47 27.45-36.65 2.57-52.44l12.59-14.17c1.78 6.29 19.59 39.58 23.41 40.07.87-3.98 11-11.77 11.12-13 .06-.79-6.61-11.24-7.99-14.37-2.93-6.75-5.62-14.41-7.92-21.98 7.7 6.11 15.79 11.85 24.34 17.12 5.09-7.38 12.07-13.5 20.08-17.41-20.03-12.37-38.19-27.64-54.14-45-5.34-5.82-10.53-11.99-15.63-18.52-1.11-1.39-2.18-2.85-3.28-4.31-5.42-6.91-10.57-14.03-15.59-21.27-16.56-23.88-31.23-48.98-46.17-73.91 2.89-4.08 8.98-8.79 12.49-11.73-4.23 26.65 24.2 39.81 44.66 29.19 4.39-2.28-2.75-5.46-.51-6.39 6.63 2.55 37.34-11.04 33.05-16.98-.65-.89-17-5.36-18.62-10.49 5.28-2.28 10.17-2.45 15.26-5.98 13.22-9.14 11.83-27.56 19.55-40.59-21.53-1.11-36.13-22.68-55.92-.91-2.79-7.46.44-13.52 1.78-20.03 1.35-6.51-11.48-1.11-14.05-.06-7.46 3.05-14.17 6.93-19.1 13.44l-1.86-5.62c-24.5 12.57-32.43 35.56-8.33 55.76l-13.32 12.27c-9.4-15.57-19.02-30.99-29.39-45.95-13.32-19.17-28.34-37.72-45.69-53.55-13.36-12.19-28.51-22.44-44.86-30.2-1.23-.59-2.47-1.15-3.7-1.7-8.75-3.9-17.79-6.55-26.87-9.54-12.05-3.98-24.26-4.91-31.19-14.45-3.66-4.59-5.88-10.61-5.88-17.2 0-12.64 5.8-19.12 11.85-22.48l3.82-52.77c-9.78 7.78-20.54 15.28-29.13 24.6-.02.02-.04.02-.04.02a75 75 0 0 0-5.84 7.1c-29.35 40.74-17.08 72.64.55 90.08 4.81 4.79 10.01 8.47 14.88 10.98.22 13.75 1.68 33.66.02 35.62-2.39 2.75-8.35 5.74-11.69 7.54 6.83-18.46-12.35-31.52-28.97-26.56-3.56 1.05 1.27 4.23-.51 4.61-4.57-2.67-29.15 3.05-26.81 7.86.34.73 11.83 6 12.31 9.89-4.23.95-7.86.44-12.11 2.3C9.03 500.4 7.5 513.72-.03 522.05Z"/><path d="M137.15 44.1c-.89 5.72 1.72 9.28 1.42 14.09-5.42 82-22.8 330.16-23.33 337.64-.65 9.02 5.26 17.22 14.03 19.41 31.03 7.72 59.58 23.01 83.76 45.08 16.36 14.94 31.9 33.18 47.61 55.74 1.78 2.61 3.56 5.18 5.3 7.78 2.79-13.59 13.26-25.84 29.17-34 1.86-.95 3.88-1.44 5.92-1.44.87 0 1.72.08 2.57.26 4.81-3.34 9.64-5.56 13.5-7.14l.16-.06c4.53-1.86 10.41-3.98 15.81-3.98 7.04 0 10.98 3.54 12.72 5.68 1.88 2.3 2.97 5.07 3.28 8.03 1.19-.14 2.43-.2 3.68-.2 8.39 0 15.87 3.13 22.46 5.9 5.46 2.28 10.61 4.45 15.65 4.71 6 .32 11.2 4.71 12.19 11.1.46 3.05-.36 6.13-1.88 8.81-1.98 3.5-3.28 8.13-4.67 13.02-2.47 8.77-5.44 19.37-13.79 27.45.63.59 1.23 1.27 1.8 2.06 3.42 4.73 3.8 10.78 1.05 16.17-4.45 8.67-19.47 16.27-31.36 19.71-1.17 2.24-3.23 4.73-6.77 6.57a46.4 46.4 0 0 1-21.23 5.16c-2.18 0-4.35-.16-6.45-.44 6.89 11.14 13.99 22.18 21.37 32.83 5.16 7.48 10.09 14.21 15.14 20.68.04.08.97 1.31.97 1.31.77.99 1.54 2.02 2.3 3.01 4.87 6.23 9.91 12.19 14.96 17.73 18.62 20.26 39.58 36.73 62.45 49.13 12.19-.47 23.94 4.53 33.56 14.45 5.82-5.96 12.57-10.23 19.95-12.47 19.57-5.9 47.17 3.15 60.18 27.7 6.27.32 12.68.49 19.17.49 13.38 0 27.09-.65 41.69-1.98-4.91-22.46.95-37.93 7.48-47.47 7.62-11.1 19.31-19 34-23.17-.08-2.83.16-5.76.79-8.81 5.72-27.56 84.14-75.29 103.83-107.73 23.21-38.23 18.01-102.05 15.65-145.68-3.13-58.37-9.36-118.31-18.03-176.07-3.54-23.61-10.43-77.17-18.56-96.96-3.86-9.3-9.68-14.64-18.9-18.19-28.3-11.14-87.32-1.25-107.86-20.86-29.56-28.22 16.09-74.7-31.84-96.9C524.6-2.5 376.41-1.13 314.69 1.16c-35.2 1.29-142.73 5.64-167.31 26.79-4.89 4.23-9.22 9.44-10.23 16.15m496.03 159.75c14.41-1.58 32.37 4.81 40.7 17.04 9.72 14.41 16.5 78.48 18.66 99.08 4.08 39.18 7.64 84.95 8.81 124.23 1.27 43.16 3.62 77.73-32.77 106.93-44.86 36.09-36.85-26.89-39.3-54.5-5.56-62.47-10.23-125.08-15.28-187.55-2-24.93-8.35-54.16-8.47-78.78-.08-14.19 14.56-25.07 27.66-26.44Zm-459.4 40.63c1.27-2.55-.08-5.8 2.35-9.4 2.45-1.9 4.93-3.8 7.4-5.68 35.8-27.33 72.13-55.62 73.57-58.71 2.71-5.92-1.05-16.86 7.18-25.39 8.23-8.51 19.81-10.71 24.12-17.26 4.27-6.53 12.51-25.74 17.91-26.89 4.83-.97 14.6 13.52 21.65 21.87q1.305 1.515 2.43 2.73c6.73 6.99 13.06-8.65 15.02-19.95.12-.61.22-1.19.3-1.78 1.58-11.3 13.61-30.2 14.17-37.76.53-7.58 2.69-16.56 8.71-15.36 6 1.19 16.42 25.55 22.97 29.84 6.55 4.27 6.19 8.81 15.57 5.7 9.36-3.13 10.49-8.39 12.68-6.71 2.14 1.7 50.97 42.56 57.21 50.62 6.27 8.05 15.67 25.49 20.56 31.19 4.91 5.68 10.17 6.81 11.89 14.58.93 4.21 5.26 8.67 10.53 12.8 4.08 3.28 8.75 6.35 12.88 8.94 8.11 10.96 23.45 20.01 23.45 27.15 0 5.58 7.64 108 11.69 161.25.2 2.79-3.82 3.38-4.43.67-8.05-35.56-21.03-90.06-26.79-97.99-8.69-11.93-70.43-53.11-75.85-58.53-5.42-5.4 2.14 5.42 0 13.04-2.18 7.58-9.74 14.09-5.42 20.58 4.33 6.47 18.42 11.91 11.91 21.65-6.49 9.76-21.65 23.84-28.16 30.37-6.51 6.49-15.16 11.91-20.58 20.56-5.42 8.67-13.02 10.84-23.84 14.09-10.84 3.26-33.6 3.26-43.36 3.26s-65.02 40.09-75.85 50.93c-10.82 10.84-13 15.18-14.07 34.67-1.09 19.51-19.51-10.82-18.42-21.65 1.05-10.86-5.44-20.6 1.05-30.35 6.55-9.74 8.69-17.33 14.11-23.84s-36.85 0-43.36 6.51c-6.47 6.49-28.16 35.76-35.76 35.76-6.09 0-12.94-4.97-15.36-6.87-.55-.46-.87-1.15-.81-1.88.81-13.71 8.69-148.59 10.78-152.74Z"/></g></svg>';function loadOpenHours(){var e=document.getElementById("open-hours");if(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL?SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL:null,n="content/timeslots.csv";(a?r(a):Promise.resolve(!1)).then(function(e){if(!e)return r(n)}).catch(function(){return r(n).catch(function(){})})}function r(a){return fetch(a).then(function(e){return e.text()}).then(function(a){return function(a){var n=a.trim().split("\n");if(n.length<2)return!1;for(var r=n[0].split(","),i=[],o=1;o<n.length;o++){var s=n[o].split(",");if(!(s.length<3)){for(var l={},c=0;c<r.length;c++)l[r[c].trim()]=s[c].trim();i.push(l)}}var d=new Date;if(d.setHours(0,0,0,0),0===(i=i.filter(function(e){return new Date(e.date+"T00:00:00")>=d})).length)return!1;var u={};function m(e){var t=Math.floor(e/60),a=e%60;return(t>12?t-12:0===t?12:t)+":"+(a<10?"0"+a:""+a)+" "+(t>=12?"PM":"AM")}i.forEach(function(e){var t=new Date(e.date+"T00:00:00").getDay(),a=e.time.match(/(\d+):(\d+)\s*(AM|PM)/i);if(a){var n=parseInt(a[1],10),r=parseInt(a[2],10),i=a[3].toUpperCase();"PM"===i&&12!==n&&(n+=12),"AM"===i&&12===n&&(n=0);var o=60*n+r;u[t]||(u[t]={min:o,max:o}),o<u[t].min&&(u[t].min=o),o>u[t].max&&(u[t].max=o)}});for(var p='<h2>Open Hours</h2><ul class="open-hours-list">',v=0;v<7;v++){var f=u[v];p+='<li class="open-hours-row'+(f?"":" closed")+'">',p+='<span class="open-hours-day">'+t[v]+"</span>",p+=f?'<span class="open-hours-time">'+m(f.min)+" &ndash; "+m(f.max+30)+"</span>":'<span class="open-hours-time">Closed</span>',p+="</li>"}return p+="</ul>",e.innerHTML=p,!0}(a)})}}function loadFAQ(){var e=document.getElementById("faq-list");if(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL?SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL:null;t&&fetch(t).then(function(e){return e.text()}).then(function(t){var a=t.trim().split("\n");if(!(a.length<2)){for(var n=[],r=1;r<a.length;r++){var i=a[r].match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g)||[];"faq"===((i=i.map(function(e){return e.replace(/^"|"$/g,"").replace(/""/g,'"').trim()}))[0]||"").toLowerCase()&&n.push({question:i[2]||"",answer:i[3]||""})}if(0!==n.length){var o="";n.forEach(function(e){o+='<div class="faq-item">',o+='<button type="button" class="faq-question">'+escapeHTML(e.question)+"</button>",o+='<div class="faq-answer"><p>'+escapeHTML(e.answer)+"</p></div>",o+="</div>"}),e.innerHTML=o,e.querySelectorAll(".faq-question").forEach(function(e){e.addEventListener("click",function(){this.parentElement.classList.toggle("open")})})}}}).catch(function(e){console.error("[FAQ] Error loading:",e)})}}function loadFooterHours(){var e=document.getElementById("footer-hours");if(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL?SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL:null,n="content/timeslots.csv";(a?r(a):Promise.resolve(!1)).then(function(e){if(!e)return r(n)}).catch(function(){return r(n).catch(function(){})})}function r(a){return fetch(a).then(function(e){return e.text()}).then(function(a){return function(a){var n=a.trim().split("\n");if(n.length<2)return!1;for(var r=n[0].split(","),i=[],o=1;o<n.length;o++){var s=n[o].split(",");if(!(s.length<3)){for(var l={},c=0;c<r.length;c++)l[r[c].trim()]=s[c].trim();i.push(l)}}var d=new Date;if(d.setHours(0,0,0,0),0===(i=i.filter(function(e){return new Date(e.date+"T00:00:00")>=d})).length)return!1;var u={};function m(e){var t=Math.floor(e/60),a=e%60;return(t>12?t-12:0===t?12:t)+(a>0?":"+(a<10?"0"+a:a):"")+(t>=12?"PM":"AM")}i.forEach(function(e){var t=new Date(e.date+"T00:00:00").getDay(),a=e.time.match(/(\d+):(\d+)\s*(AM|PM)/i);if(a){var n=parseInt(a[1],10),r=parseInt(a[2],10),i=a[3].toUpperCase();"PM"===i&&12!==n&&(n+=12),"AM"===i&&12===n&&(n=0);var o=60*n+r;u[t]||(u[t]={min:o,max:o}),o<u[t].min&&(u[t].min=o),o>u[t].max&&(u[t].max=o)}});for(var p="",v=0;v<7;v++){var f=u[v];p+='<span class="footer-hours-day'+(f?"":" closed")+'">',p+='<span class="footer-hours-abbr">'+t[v]+"</span> ",p+=f?m(f.min)+"–"+m(f.max+30):"Closed",p+="</span>"}return e.innerHTML=p,!0}(a)})}}function loadSocialLinks(){var e=document.querySelector(".footer-social");if(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL?SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL:null;t&&fetch(t).then(function(e){return e.ok?e.text():""}).then(function(t){if(t.trim()){for(var n=t.trim().split("\n"),r={},i=1;i<n.length;i++){var o=a(n[i]);if("social"===(o[0]||"").toLowerCase().trim()){var s=(o[2]||"").toLowerCase().trim(),l=(o[4]||"").trim();s&&l&&(r[s]=l)}}if(Object.keys(r).length>0){var c=e.querySelector('a[aria-label*="Instagram"]'),d=e.querySelector('a[aria-label*="Facebook"]');c&&r.instagram&&(c.href=r.instagram),d&&r.facebook&&(d.href=r.facebook)}}}).catch(function(){})}function a(e){for(var t=[],a="",n=!1,r=0;r<e.length;r++){var i=e[r];'"'===i?n=!n:","!==i||n?a+=i:(t.push(a),a="")}return t.push(a),t}}function getTintClass(e){if(e.tint)return"tint-"+e.tint.toLowerCase().replace(/\s+/g,"");if(!e.subcategory)return"";return{red:"tint-red",white:"tint-white",rose:"tint-rose",ros:"tint-rose",fruit:"tint-fruit",specialty:"tint-specialty",pilsner:"tint-pilsner",amber:"tint-amber",wheat:"tint-wheat",ipa:"tint-ipa",pale:"tint-pale",session:"tint-session",saison:"tint-saison",lager:"tint-lager",stout:"tint-stout",porter:"tint-porter",redale:"tint-redale",brown:"tint-brown"}[e.subcategory.toLowerCase().replace(/[^a-z]/g,"")]||""}function buildLabelNotesToggle(e){var t=document.createElement("div");t.className="notes-wrap";var a=document.createElement("button");a.type="button",a.className="notes-toggle",a.innerHTML='Tasting Notes <span class="chevron">&#9660;</span>';var n=document.createElement("div");if(n.className="notes-body",e.sku){var r=document.createElement("div");r.className="notes-image";var i=document.createElement("img");i.src="images/products/"+e.sku+".png",i.alt=e.name||"Product image",i.loading="lazy",i.onerror=function(){this.parentElement.remove()},r.appendChild(i),n.appendChild(r)}if(e.tasting_notes){var o=document.createElement("div");o.className="notes-text";var s=document.createElement("p");s.textContent=e.tasting_notes,o.appendChild(s),n.appendChild(o)}var l,c,d=(e.body||"").trim(),u=(e.oak||"").trim(),m=(e.sweetness||"").trim();if(d||u||m){var p=document.createElement("div");p.className="wine-traits";for(var v=[{label:"Body",value:d},{label:"Oak",value:u},{label:"Sweetness",value:m}],f=0;f<v.length;f++)if(v[f].value){var h=document.createElement("div");h.className="trait-col";var g=document.createElement("span");g.className="trait-label",g.textContent=v[f].label;var E=document.createElement("span");E.className="trait-value",E.textContent=v[f].value,h.appendChild(g),h.appendChild(E),p.appendChild(h)}n.appendChild(p)}return a.addEventListener("click",(l=t,c=e,function(){l.classList.toggle("open")&&trackEvent("detail",c.sku||"",c.name||"")})),t.appendChild(a),t.appendChild(n),t}function buildLabelPriceFooter(e){var t=parseFloat(e.discount)||0,a="TRUE"===(e.pricing_from||"").trim().toUpperCase()?"+":"",n=(e.retail_instore||"").trim(),r=(e.retail_kit||"").trim(),i=document.createElement("div");if(i.className="price-footer",n){var o=document.createElement("div");o.className="price-col";var s=document.createElement("div");s.className="price-label",s.textContent="Ferment in store",o.appendChild(s);var l=document.createElement("div");if(l.className="price-value",t>0){var c=(parseFloat(n.replace(/[^0-9.]/g,""))*(1-t/100)).toFixed(2);l.innerHTML='<s style="color:#999;font-size:0.8rem;">'+n+"</s> $"+c+a}else l.textContent=n+a;o.appendChild(l),i.appendChild(o)}if(r){var d=document.createElement("div");d.className="price-col";var u=document.createElement("div");u.className="price-label",u.textContent="Kit only",d.appendChild(u);var m=document.createElement("div");if(m.className="price-value",t>0){var p=(parseFloat(r.replace(/[^0-9.]/g,""))*(1-t/100)).toFixed(2);m.innerHTML='<s style="color:#999;font-size:0.8rem;">'+r+"</s> $"+p+a}else m.textContent=r+a;d.appendChild(m),i.appendChild(d)}return i}function loadFeaturedProducts(){var e=document.getElementById("promo-section"),t=document.getElementById("promo-news-content"),a=document.getElementById("promo-featured-products");if(e){if(a){var n=document.createElement("div");n.className="promo-loading-skeleton",n.appendChild(createSkeletonCard()),a.innerHTML="",a.appendChild(n)}var r,i,o="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_CSV_URL?SHEETS_CONFIG.PUBLISHED_CSV_URL:null,s="content/products.csv",l="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL?SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL:null,c="sv-products-csv",d="sv-products-csv-ts",u="sv-homepage-csv",m="sv-homepage-csv-ts",p=f(c,d),v=f(u,m);if(v?(r=Promise.resolve(v.data),!v.fresh&&l&&fetch(l).then(function(e){return e.ok?e.text():""}).then(function(e){e&&h(u,m,e)})):r=l?fetch(l).then(function(e){return e.ok?e.text():""}).then(function(e){return e&&h(u,m,e),e}):fetch("content/home.json").then(function(e){return e.ok?e.json():{}}).then(function(e){return{isJson:!0,data:e}}),p){if(i=Promise.resolve(p.data),!p.fresh)fetch(o||s).then(function(e){return e.ok?e.text():""}).then(function(e){e&&h(c,d,e)})}else(i=o?fetch(o).then(function(e){return e.ok?e.text():""}).catch(function(){return fetch(s).then(function(e){return e.text()})}):fetch(s).then(function(e){return e.text()})).then(function(e){e&&h(c,d,e)});Promise.all([r,i]).then(function(n){var r,i,o=n[0],s=n[1],l={"promo-news":[],"promo-featured-skus":[],"instafeed-url":""};if(o&&o.isJson)l=o.data;else if("string"==typeof o&&o.trim()){var c=o.trim().split("\n");if(c.length>1)for(var d=1;d<c.length;d++){var u=g(c[d]),m=(u[0]||"").toLowerCase().trim();if("news"===m)l["promo-news"].push({type:"news",date:(u[1]||"").trim(),title:(u[2]||"").trim(),text:(u[3]||"").trim()});else if("instafeed"===m)l["instafeed-url"]=(u[3]||"").trim();else if("featured"===m){var p=(u[4]||"").trim(),v=(u[3]||"").trim();p&&l["promo-featured-skus"].push({sku:p,description:v})}}}if(l["promo-news"].sort(function(e,t){return new Date(t.date)-new Date(e.date)}),t&&l["promo-news"]&&l["promo-news"].length>0&&(r=l["promo-news"],i="",r.forEach(function(e){i+='<div class="promo-news-item">',i+='<span class="promo-news-date">'+E(e.date||"")+"</span>",i+="<h3>"+E(e.title||"")+"</h3>",i+="<p>"+E(e.text||"")+"</p>",i+="</div>"}),t.innerHTML=i),t&&l["instafeed-url"]){var f='<div class="promo-instagram-feed">';f+="<h3>Follow Us on Instagram</h3>",f+='<iframe src="'+E(l["instafeed-url"])+'" frameborder="0" scrolling="no" allowtransparency="true" loading="lazy" class="promo-instagram-feed-iframe"></iframe>',f+="</div>",t.innerHTML+=f}var h=l["promo-featured-skus"]||[],y=s?function(e){var t=e.trim().split("\n");if(t.length<2)return[];for(var a=t[0].split(",").map(function(e){return e.trim().toLowerCase().replace(/\s+/g,"_")}),n=[],r=1;r<t.length;r++){var i=C(t[r]);if(!(i.length<2)){for(var o={},s=0;s<a.length;s++)o[a[s]]=(i[s]||"").trim();n.push(o)}}return n}(s):[];!function(t,n){var r=[];n&&n.length>0&&n.forEach(function(e){var a="object"==typeof e?e.sku:e,n=t.find(function(e){return e.sku===a});n&&(n._featuredDescription=("object"==typeof e?e.description:"")||"",r.push(n))});0===r.length&&(r=t.filter(function(e){return"TRUE"===(e.featured||"").trim().toUpperCase()||"TRUE"===(e.favorite||"").trim().toUpperCase()}));0===r.length&&(r=t.filter(function(e){return parseFloat(e.discount)>0}).slice(0,3));0===r.length&&(r=t.slice(0,3));if(0===r.length)return void(e.style.display="none");a.innerHTML="";var i=document.getElementById("promo-featured-descriptions");i&&(i.innerHTML="");var o=0,s=!1;if(r.forEach(function(e,t){var n=function(e){var t,a=(e.type||"").toLowerCase();t=-1!==a.indexOf("wine")?function(e){var t=getTintClass(e),a=document.createElement("div");a.className="label-wine"+(t?" "+t:""),e.sku&&a.setAttribute("data-sku",e.sku);var n=parseFloat(e.discount)||0;if(n>0){var r=document.createElement("span");r.className="discount-badge",r.textContent=Math.round(n)+"% OFF",a.appendChild(r)}var i=document.createElement("div");i.className="label-body";var o=document.createElement("div");o.className="brand",o.textContent=e.brand||"",i.appendChild(o);var s=document.createElement("div");s.className="ornament",i.appendChild(s);var l=document.createElement("div");if(l.className="wine-name",l.textContent=e.name||"",i.appendChild(l),e.subcategory){var c=document.createElement("div");c.className="subcategory",c.textContent=e.subcategory,i.appendChild(c)}if(e.time){var d=document.createElement("div");d.className="time",d.textContent=e.time,i.appendChild(d)}if(e.abv){var u=document.createElement("div");u.className="abv",u.textContent=e.abv+(-1===e.abv.toLowerCase().indexOf("abv")?" ABV":""),i.appendChild(u)}a.appendChild(i);var m=(e.retail_instore||"").trim(),p=(e.retail_kit||"").trim();(m||p)&&a.appendChild(buildLabelPriceFooter(e));var v=document.createElement("div");v.className="reserve-link";var f=e.name+"|"+e.brand;return b(v,e,f),a.appendChild(v),a}(e):-1!==a.indexOf("beer")?function(e){var t=getTintClass(e),a=document.createElement("div");a.className="label-beer"+(t?" "+t:""),e.sku&&a.setAttribute("data-sku",e.sku);var n=parseFloat(e.discount)||0;if(n>0){var r=document.createElement("span");r.className="discount-badge",r.textContent=Math.round(n)+"% OFF",a.appendChild(r)}var i=document.createElement("div");i.className="label-body";var o=document.createElement("div");o.className="sv-logo",o.innerHTML=SV_LOGO_SVG,i.appendChild(o);var s=document.createElement("div");s.className="brand",s.textContent=e.brand||"",i.appendChild(s);var l=document.createElement("div");l.className="gold-rule",i.appendChild(l);var c=document.createElement("div");if(c.className="beer-name",c.textContent=e.name||"",i.appendChild(c),e.subcategory){var d=document.createElement("div");d.className="subcategory",d.textContent=e.subcategory,i.appendChild(d)}if(e.time){var u=document.createElement("div");u.className="time",u.textContent=e.time,i.appendChild(u)}if(e.abv){var m=document.createElement("div");m.className="abv",m.textContent=e.abv+(-1===e.abv.toLowerCase().indexOf("abv")?" ABV":""),i.appendChild(m)}a.appendChild(i);var p=(e.retail_instore||"").trim(),v=(e.retail_kit||"").trim();(p||v)&&a.appendChild(buildLabelPriceFooter(e));var f=document.createElement("div");f.className="reserve-link";var h=e.name+"|"+e.brand;return b(f,e,h),a.appendChild(f),a}(e):function(e){var t=document.createElement("div");t.className="product-card",e.sku&&t.setAttribute("data-sku",e.sku);var a=document.createElement("div");a.className="product-card-header";var n=document.createElement("p");n.className="product-brand",n.textContent=e.brand||"",a.appendChild(n);var r=document.createElement("h4");r.textContent=e.name||"",a.appendChild(r),t.appendChild(a);var i=(e.batch_size_liters||"").trim();if(e.subcategory||e.time||i){var o=document.createElement("div");o.className="product-detail-row";var s=[];e.subcategory&&s.push(e.subcategory),e.time&&s.push(e.time),i&&s.push(i+"L");for(var l=0;l<s.length;l++){if(l>0){var c=document.createElement("span");c.className="detail-sep",c.textContent="·",o.appendChild(c)}var d=document.createElement("span");d.textContent=s[l],o.appendChild(d)}t.appendChild(o)}if(e.tasting_notes){var u=document.createElement("div");u.className="product-notes";var m=document.createElement("button");m.type="button",m.className="product-notes-toggle",m.setAttribute("aria-expanded","false"),m.innerHTML='More Information <span class="product-notes-chevron">&#9660;</span>';var p=document.createElement("div");if(p.className="product-notes-body",e.sku){var v=document.createElement("div");v.className="product-notes-image";var f=document.createElement("img");f.src="images/products/"+e.sku+".png",f.alt=e.name||"Product image",f.loading="lazy",f.onerror=function(){this.parentElement.remove()},v.appendChild(f),p.appendChild(v)}var h=document.createElement("div");h.className="product-notes-text";var g=document.createElement("p");g.textContent=e.tasting_notes,h.appendChild(g),p.appendChild(h),m.addEventListener("click",(E=u,C=m,function(){var e=E.classList.toggle("open");C.setAttribute("aria-expanded",e?"true":"false")})),u.appendChild(m),u.appendChild(p),t.appendChild(u)}var E,C;var y=parseFloat(e.discount)||0;if(y>0){var S=document.createElement("span");S.className="product-discount-badge",S.textContent=Math.round(y)+"% OFF",t.appendChild(S)}var L="TRUE"===(e.pricing_from||"").trim().toUpperCase(),N=L?"+":"",x=(e.retail_instore||"").trim(),I=(e.retail_kit||"").trim();if(x||I){var _=document.createElement("div");if(_.className="product-prices",x){var k=document.createElement("div");if(k.className="product-price-box",y>0){var w=(parseFloat(x.replace(/[^0-9.]/g,""))*(1-y/100)).toFixed(2);k.innerHTML='<span class="product-price-label">Ferment in store</span><span class="product-price-original">'+x+'</span><span class="product-price-value">$'+w+N+"</span>"}else k.innerHTML='<span class="product-price-label">Ferment in store</span><span class="product-price-value">'+x+N+"</span>";_.appendChild(k)}if(I){var F=document.createElement("div");if(F.className="product-price-box",y>0){var T=(parseFloat(I.replace(/[^0-9.]/g,""))*(1-y/100)).toFixed(2);F.innerHTML='<span class="product-price-label">Kit only</span><span class="product-price-original">'+I+'</span><span class="product-price-value">$'+T+N+"</span>"}else F.innerHTML='<span class="product-price-label">Kit only</span><span class="product-price-value">'+I+N+"</span>";_.appendChild(F)}t.appendChild(_)}var O=document.createElement("div");O.className="product-reserve-wrap";var R=e.name+"|"+e.brand;return b(O,e,R),t.appendChild(O),t}(e);return t}(e);if(n.dataset.carouselIndex=t,0===t&&n.classList.add("promo-slide-active"),a.appendChild(n),i){var r=document.createElement("div");r.className="promo-featured-desc",0===t&&r.classList.add("promo-slide-active"),e._featuredDescription?r.innerHTML="<p>"+E(e._featuredDescription)+"</p>":r.classList.add("promo-featured-desc-empty"),i.appendChild(r)}}),function(){var e,t=a.querySelectorAll(".product-card, .label-wine, .label-beer"),n=i?i.querySelectorAll(".promo-featured-desc"):[];for(e=0;e<t.length;e++)t[e].style.position="relative",t[e].style.opacity="1",t[e].style.transform="none";var r=a.offsetHeight;for(r>0&&(a.style.minHeight=r+"px"),e=0;e<t.length;e++)t[e].style.position="",t[e].style.opacity="",t[e].style.transform="";if(i&&n.length>0){var o=0;for(e=0;e<n.length;e++)if(!n[e].classList.contains("promo-featured-desc-empty")){n[e].style.position="relative",n[e].style.opacity="1",n[e].style.transform="none";var s=n[e].offsetHeight;s>o&&(o=s),n[e].style.position="",n[e].style.opacity="",n[e].style.transform=""}o>0&&(i.style.minHeight=o+"px")}}(),r.length>1){var l=document.getElementById("promo-carousel-nav"),c=document.getElementById("promo-carousel-dots");if(l&&(l.style.display="flex"),c){c.innerHTML="";for(var d=0;d<r.length;d++){var u=document.createElement("button");u.type="button",u.className="promo-carousel-dot"+(0===d?" active":""),u.dataset.index=d,u.setAttribute("aria-label","Go to product "+(d+1)),c.appendChild(u)}}function m(e){if(!s&&e!==o){s=!0;var t=a.querySelectorAll(".product-card, .label-wine, .label-beer"),n=c?c.querySelectorAll(".promo-carousel-dot"):[],r=t[o],l=t[e];r.classList.remove("promo-slide-active"),r.classList.add("promo-slide-exit"),l.classList.add("promo-slide-active");var d=i?i.querySelectorAll(".promo-featured-desc"):[];d.length>0&&(d[o]&&(d[o].classList.remove("promo-slide-active"),d[o].classList.add("promo-slide-exit")),d[e]&&d[e].classList.add("promo-slide-active")),n.forEach(function(t,a){t.classList.toggle("active",a===e)}),setTimeout(function(){r.classList.remove("promo-slide-exit"),d.length>0&&d[o]&&d[o].classList.remove("promo-slide-exit"),o=e,s=!1},500)}}var p=document.querySelector(".promo-carousel-prev"),v=document.querySelector(".promo-carousel-next");p&&p.addEventListener("click",function(){m((o-1+r.length)%r.length)}),v&&v.addEventListener("click",function(){m((o+1)%r.length)}),c&&c.addEventListener("click",function(e){e.target.classList.contains("promo-carousel-dot")&&m(parseInt(e.target.dataset.index,10))}),setInterval(function(){a.querySelector(".product-notes.open, .notes-wrap.open")||m((o+1)%r.length)},12e3)}}(y,h)}).catch(function(){e.style.display="none"})}function f(e,t){try{var a=localStorage.getItem(e),n=parseInt(localStorage.getItem(t),10)||0;if(a)return{data:a,fresh:Date.now()-n<36e5}}catch(e){}return null}function h(e,t,a){try{localStorage.setItem(e,a),localStorage.setItem(t,String(Date.now()))}catch(e){}}function g(e){for(var t=[],a="",n=!1,r=0;r<e.length;r++){var i=e[r];'"'===i?n=!n:","!==i||n?a+=i:(t.push(a),a="")}return t.push(a),t}function E(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function C(e){for(var t=[],a="",n=!1,r=0;r<e.length;r++){var i=e[r];'"'===i?n=!n:","!==i||n?a+=i:(t.push(a),a="")}return t.push(a),t}function b(e,t,a){var n=document.createElement("button");n.type="button",n.className="product-reserve-btn",n.textContent="Reserve",n.addEventListener("click",function(){isReserved(a)||setReservationQty(t,1),window.location.href="products.html?sku="+encodeURIComponent(t.sku)}),e.appendChild(n)}}function fetchCSV(e){return fetch(e).then(function(e){if(!e.ok)throw new Error("HTTP "+e.status);return e.text()})}function createSkeletonCard(){var e=document.createElement("div");return e.className="skeleton-card",e.innerHTML='<div class="skeleton-element skeleton-brand"></div><div class="skeleton-element skeleton-title"></div><div class="skeleton-element skeleton-detail"></div><div class="skeleton-badges"><div class="skeleton-element skeleton-badge"></div><div class="skeleton-element skeleton-badge"></div></div><div class="skeleton-prices"><div class="skeleton-element skeleton-price-box"></div><div class="skeleton-element skeleton-price-box"></div></div><div class="skeleton-element skeleton-notes"></div>',e}function showCatalogSkeletons(e,t){if(e){var a=document.createElement("div");a.className="catalog-skeleton-grid";for(var n=0;n<t;n++)a.appendChild(createSkeletonCard());e.appendChild(a)}}document.addEventListener("DOMContentLoaded",function(){-1===window.location.search.indexOf("kiosk=1")&&!0!==window.navigator.standalone||(document.body.classList.add("kiosk-mode"),document.querySelectorAll("a[href]").forEach(function(e){var t=e.getAttribute("href");t&&0!==t.indexOf("http")&&0!==t.indexOf("mailto:")&&0!==t.indexOf("tel:")&&e.setAttribute("href",t+(-1!==t.indexOf("?")?"&":"?")+"kiosk=1")}));var e=document.querySelector(".nav-toggle"),t=document.querySelector(".nav-list"),a=document.createElement("div");a.className="nav-backdrop";var n=document.querySelector(".main-nav");if(n)n.appendChild(a);else{var r=document.querySelector("header");r&&r.parentNode&&r.parentNode.insertBefore(a,r.nextSibling)}function i(){t&&t.classList.remove("open"),a.classList.remove("open"),document.body.classList.remove("nav-open")}e&&t&&(e.addEventListener("click",function(){t.classList.toggle("open"),a.classList.toggle("open"),document.body.classList.toggle("nav-open")}),a.addEventListener("click",function(){i()}),t.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){i()})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&t.classList.contains("open")&&i()}));document.addEventListener("click",function(e){e.target.closest&&e.target.closest(".product-notes-btn")||document.querySelectorAll(".product-notes-tooltip.show").forEach(function(e){e.classList.remove("show")})});var o=document.body.getAttribute("data-page");if(o){var s=fetch("content/shared.json").then(function(e){return e.ok?e.json():{}}).catch(function(){return{}}),l=fetch("content/"+o+".json").then(function(e){return e.ok?e.json():{}}).catch(function(){return{}});Promise.all([s,l]).then(function(e){var t,a=e[0],n=e[1],r={};for(t in a)a.hasOwnProperty(t)&&(r[t]=a[t]);for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);document.querySelectorAll("[data-content]").forEach(function(e){var t=e.getAttribute("data-content");void 0!==r[t]&&(e.innerHTML=r[t])})}).catch(function(){})}var c=document.querySelector(".site-header");if(c){var d=function(){document.documentElement.style.setProperty("--header-height",c.offsetHeight+"px")};d(),window.addEventListener("resize",d)}"products"===o&&(loadProducts(),initReservationBar(),initProductTabs(),initCatalogViewToggle()),"reservation"===o&&initReservationPage(),"about"!==o&&"contact"!==o||loadOpenHours(),"about"===o&&loadFAQ(),"home"===o&&(loadFeaturedProducts(),initReservationBar(),setupBeerWaitlistForm()),loadFooterHours(),loadSocialLinks()});var _eqResizeTimer,applyKitsFilters=null,catalogViewMode="cards";function initCatalogViewToggle(){var e=document.querySelectorAll(".view-toggle-btn");e.forEach(function(t){t.addEventListener("click",function(){var a=t.getAttribute("data-view");if(a!==catalogViewMode){catalogViewMode=a,e.forEach(function(e){e.classList.toggle("active",e.getAttribute("data-view")===a)});var n=document.querySelector(".product-tab-btn.active"),r=n?n.getAttribute("data-product-tab"):"kits";"kits"===r?applyKitsFilters&&applyKitsFilters():"ingredients"===r?renderIngredients():"services"===r&&renderServices()}})})}function equalizeCardHeights(){document.querySelectorAll(".product-grid").forEach(function(e){for(var t=e.children,a=0;a<t.length;a++)t[a].style.minHeight="";for(var n={},r=0;r<t.length;r++){var i=t[r].offsetTop;n[i]||(n[i]=[]),n[i].push(t[r])}for(var o=Object.keys(n),s=0;s<o.length;s++){var l=n[o[s]];if(!(l.length<2)){for(var c=0,d=0;d<l.length;d++)l[d].offsetHeight>c&&(c=l[d].offsetHeight);for(var u=0;u<l.length;u++)l[u].style.minHeight=c+"px"}}})}function loadProducts(){var e=[],t=!1,a={type:[],brand:[],subcategory:[],time:[],body:[],oak:[],sweetness:[]},n=!1,r="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_CSV_URL?SHEETS_CONFIG.PUBLISHED_CSV_URL:null,i="sv-products-csv",o="sv-products-csv-ts";function s(e){try{localStorage.setItem(i,e),localStorage.setItem(o,String(Date.now()))}catch(e){}}var l,c=function(){try{var e=localStorage.getItem(i),t=parseInt(localStorage.getItem(o),10)||0;if(e)return{csv:e,fresh:Date.now()-t<36e5}}catch(e){}return null}(),d=document.getElementById("product-catalog");(!c&&d&&showCatalogSkeletons(d,6),c)?(l=Promise.resolve(c.csv),c.fresh||fetchCSV(r||"content/products.csv").then(s).catch(function(){})):(l=r?fetchCSV(r).catch(function(){return fetchCSV("content/products.csv")}):fetchCSV("content/products.csv")).then(s);function u(t,a,n){var r=document.getElementById(t);if(r){var i=document.createElement("span");i.className="catalog-filter-label",i.textContent=n,r.appendChild(i);var o=[];if(e.forEach(function(e){var t=e[a]||"";t&&-1===o.indexOf(t)&&o.push(t)}),"time"===a)o.sort(function(e,t){return(parseFloat(e)||0)-(parseFloat(t)||0)});else if("subcategory"===a){var s=["red","white","rosé","rose","fruit","specialty"];o.sort(function(e,t){var a=s.indexOf(e.toLowerCase()),n=s.indexOf(t.toLowerCase());return-1===a&&(a=s.length),-1===n&&(n=s.length),a-n})}else if("body"===a){var l=["light","light-medium","medium","medium-full","full"];o.sort(function(e,t){var a=l.indexOf(e.toLowerCase()),n=l.indexOf(t.toLowerCase());return-1===a&&(a=l.length),-1===n&&(n=l.length),a-n})}else if("sweetness"===a){var c=["dry","off-dry","semi-sweet","sweet"];o.sort(function(e,t){var a=c.indexOf(e.toLowerCase()),n=c.indexOf(t.toLowerCase());return-1===a&&(a=c.length),-1===n&&(n=c.length),a-n})}else o.sort();if(0!==o.length){var d=m("All",t,a);d.classList.add("active"),r.appendChild(d),o.forEach(function(e){r.appendChild(m(e,t,a))})}else r.style.display="none"}}function m(t,n,r){var i=document.createElement("button");return i.className="catalog-filter-btn",i.type="button",i.textContent=t,i.setAttribute("data-field",r),i.setAttribute("data-value",t),i.addEventListener("click",function(){if("All"===t)a[r]=[];else{var i=a[r].indexOf(t);-1!==i?a[r].splice(i,1):a[r].push(t)}var o=document.getElementById(n),s=o.querySelectorAll(".catalog-filter-btn");s.forEach(function(e){e.classList.remove("active")}),0===a[r].length?o.querySelector('[data-value="All"]').classList.add("active"):s.forEach(function(e){-1!==a[r].indexOf(e.getAttribute("data-value"))&&e.classList.add("active")}),f(),["type","brand","subcategory","time","body","oak","sweetness"].forEach(function(t){var n="filter-"+("subcategory"===t?"subcategory":t),r=document.getElementById(n);r&&r.querySelectorAll(".catalog-filter-btn").forEach(function(n){var r=n.getAttribute("data-value");if("All"!==r){var i=e.some(function(e){return e[t]===r&&function(e,t){for(var n=["type","brand","subcategory","time","body","oak","sweetness"],r=0;r<n.length;r++){var i=n[r];if(i!==t&&a[i].length>0&&-1===a[i].indexOf(e[i]))return!1}return!0}(e,t)});if(i)n.classList.remove("disabled"),n.disabled=!1;else{n.classList.add("disabled"),n.disabled=!0,n.classList.remove("active");var o=a[t].indexOf(r);-1!==o&&a[t].splice(o,1)}}})})}),i}function p(e){var t=e.retail_instore||e.retail_kit||"0";return parseFloat(t.replace("$",""))||0}function v(e){var t=(e||"").match(/(\d+)/);return t?parseInt(t[1],10):0}function f(){var r=document.getElementById("catalog-search"),i=r?r.value.toLowerCase():"",o=e.filter(function(e){if(a.type.length>0&&-1===a.type.indexOf(e.type))return!1;if(a.brand.length>0&&-1===a.brand.indexOf(e.brand))return!1;if(a.subcategory.length>0&&-1===a.subcategory.indexOf(e.subcategory))return!1;if(a.time.length>0&&-1===a.time.indexOf(e.time))return!1;if(a.body.length>0&&-1===a.body.indexOf(e.body))return!1;if(a.oak.length>0&&-1===a.oak.indexOf(e.oak))return!1;if(a.sweetness.length>0&&-1===a.sweetness.indexOf(e.sweetness))return!1;if(n&&!(parseFloat(e.discount)>0))return!1;if(!i)return!0;var t=(e.name||"").toLowerCase(),r=(e.subcategory||"").toLowerCase(),o=(e.tasting_notes||"").toLowerCase(),s=(e.brand||"").toLowerCase();return-1!==t.indexOf(i)||-1!==r.indexOf(i)||-1!==o.indexOf(i)||-1!==s.indexOf(i)}),s=document.getElementById("catalog-sort"),l=s?s.value:"name-asc";o.sort(function(e,a){if(!t){var n="true"===(e.favorite||"").toLowerCase()?0:1,r="true"===(a.favorite||"").toLowerCase()?0:1;if(n!==r)return n-r;if(0===n&&0===r)return(e._favRand||0)-(a._favRand||0)}switch(l){case"name-asc":return(e.name||"").localeCompare(a.name||"");case"name-desc":return(a.name||"").localeCompare(e.name||"");case"brand-asc":return(e.brand||"").localeCompare(a.brand||"");case"brand-desc":return(a.brand||"").localeCompare(e.brand||"");case"style-asc":return(e.subcategory||"").localeCompare(a.subcategory||"");case"style-desc":return(a.subcategory||"").localeCompare(e.subcategory||"");case"price-asc":return p(e)-p(a);case"price-desc":return p(a)-p(e);case"time-asc":return v(e.time)-v(a.time);case"time-desc":return v(a.time)-v(e.time);case"reserved-desc":return getReservedQty(a.name+"|"+a.brand)-getReservedQty(e.name+"|"+e.brand);case"reserved-asc":return getReservedQty(e.name+"|"+e.brand)-getReservedQty(a.name+"|"+a.brand);default:return 0}}),function(e){var t=document.getElementById("product-catalog");if(!t)return;var a=t.querySelectorAll(".catalog-section, .catalog-no-results, .catalog-divider, .catalog-skeleton-grid");if(a.forEach(function(e){e.parentNode.removeChild(e)}),0===e.length){var n=document.createElement("p");return n.className="catalog-no-results",n.textContent="No products found.",void t.appendChild(n)}function r(e){return void 0!==e.available&&""!==e.available?parseInt(e.available,10)||0:parseInt(e.stock,10)||0}var i=e.filter(function(e){return r(e)>0}),o=e.filter(function(e){return r(e)<=0});if(h(t,"Currently available",i),i.length>0&&o.length>0){var s=document.createElement("div");s.className="section-icon catalog-divider";var l=document.createElement("img");l.src="images/Icon_green.svg",l.alt="",l.setAttribute("aria-hidden","true"),s.appendChild(l),t.appendChild(s)}h(t,"Available to order",o,"catalog-section--order"),equalizeCardHeights()}(o)}function h(e,a,n,r){if(0!==n.length){var i=document.createElement("div");i.className="catalog-section"+(r?" "+r:"");var o=document.createElement("div");o.className="catalog-section-header";var s=document.createElement("h2");if(s.className="catalog-section-title",s.textContent=a,o.appendChild(s),"catalog-section--order"===r){var l=document.createElement("p");l.className="process-note",l.textContent="Allow up to 2 weeks for items to be ordered in.",o.appendChild(l)}i.appendChild(o);var c={},d=[];n.forEach(function(e){c[e.type]||(c[e.type]=[],d.push(e.type)),c[e.type].push(e)}),d.sort(function(e,t){return c[t].length-c[e].length}),"table"===catalogViewMode?d.forEach(function(e){var a=document.createElement("div");a.className="product-group";var n=document.createElement("h3");n.className="product-group-title",n.textContent=e,a.appendChild(n);var r=document.createElement("table");r.className="catalog-table";var o=document.createElement("thead"),s=document.getElementById("catalog-sort"),l=s?s.value:"name-asc",d=c[e],u=[{label:"Name",sort:"name",field:"name"},{label:"Brand",sort:"brand",field:"brand"},{label:"Style",sort:"style",field:"subcategory"},{label:"Time",sort:"time",field:"time"},{label:"In-Store Price",sort:"price",field:"retail_instore"},{label:"Kit Price",sort:"price",field:"retail_kit"},{label:"Reserve",sort:"reserved",field:null}].filter(function(e){return!e.field||("name"===e.field||d.some(function(t){return""!==(t[e.field]||"").trim()}))}),m={};u.forEach(function(e){m[e.field||e.label]=!0});var p=document.createElement("tr");u.forEach(function(e){var a,n=document.createElement("th");if(n.textContent=e.label,e.sort){n.setAttribute("data-sort",e.sort);var r=document.createElement("span");r.className="sort-arrow",l.replace(/-asc$|-desc$/,"")===e.sort?(n.classList.add("sort-active"),r.textContent=-1!==l.indexOf("-desc")?"▼":"▲"):r.textContent="▲",n.appendChild(r),n.addEventListener("click",(a=e.sort,function(){var e=document.getElementById("catalog-sort");if(e){var n=e.value,r=n.replace(/-asc$|-desc$/,"");e.value=r===a?a+(-1!==n.indexOf("-asc")?"-desc":"-asc"):a+"-asc",t=!0,f()}}))}p.appendChild(n)}),o.appendChild(p),r.appendChild(o);var v=document.createElement("tbody");d.forEach(function(e){var t=document.createElement("tr"),a=getTintClass(e);a&&(t.className=a);var n=parseFloat(e.discount)||0,r="TRUE"===(e.pricing_from||"").trim().toUpperCase()?"+":"",i=document.createElement("td");i.setAttribute("data-label","Name");var o=document.createElement("span");if(o.className="table-name",o.textContent=e.name||"",i.appendChild(o),n>0){var s=document.createElement("span");s.className="discount-badge-sm",s.textContent=Math.round(n)+"% OFF",i.appendChild(s)}if(t.appendChild(i),m.brand){var l=document.createElement("td");l.setAttribute("data-label","Brand"),l.textContent=e.brand||"",t.appendChild(l)}if(m.subcategory){var c=document.createElement("td");c.setAttribute("data-label","Style"),c.textContent=e.subcategory||"",t.appendChild(c)}if(m.time){var d=document.createElement("td");d.setAttribute("data-label","Time"),d.textContent=e.time||"",t.appendChild(d)}if(m.retail_instore){var u=document.createElement("td");u.setAttribute("data-label","In-Store");var p=(e.retail_instore||"").trim();if(p)if(u.className="table-prices",n>0){var f=(parseFloat(p.replace(/[^0-9.]/g,""))*(1-n/100)).toFixed(2);u.innerHTML='<span class="table-price-original">'+p+'</span><span class="table-price-sale">$'+f+r+"</span>"}else u.textContent=p+r;t.appendChild(u)}if(m.retail_kit){var h=document.createElement("td");h.setAttribute("data-label","Kit");var g=(e.retail_kit||"").trim();if(g)if(h.className="table-prices",n>0){var E=(parseFloat(g.replace(/[^0-9.]/g,""))*(1-n/100)).toFixed(2);h.innerHTML='<span class="table-price-original">'+g+'</span><span class="table-price-sale">$'+E+r+"</span>"}else h.textContent=g+r;t.appendChild(h)}var C=document.createElement("td");C.setAttribute("data-label","Reserve"),renderReserveControl(C,e,e.name+"|"+e.brand),t.appendChild(C);var b=[];m.brand&&(e.brand||"").trim()&&b.push(e.brand.trim()),m.subcategory&&(e.subcategory||"").trim()&&b.push(e.subcategory.trim()),m.time&&(e.time||"").trim()&&b.push(e.time.trim());var y=document.createElement("td");y.className="table-mobile-meta",b.length&&(y.textContent=b.join(" · ")),t.appendChild(y);var S=[],L=(e.retail_instore||"").trim(),N=(e.retail_kit||"").trim();if(L){var x=parseFloat(L.replace(/[^0-9.]/g,""));if(n>0&&x){var I=(x*(1-n/100)).toFixed(2);S.push('<span class="mp-label">In-store</span> <span class="table-price-original">'+L+'</span> <span class="table-price-sale">$'+I+r+"</span>")}else S.push('<span class="mp-label">In-store</span> '+L+r)}if(N){var _=parseFloat(N.replace(/[^0-9.]/g,""));if(n>0&&_){var k=(_*(1-n/100)).toFixed(2);S.push('<span class="mp-label">Kit</span> <span class="table-price-original">'+N+'</span> <span class="table-price-sale">$'+k+r+"</span>")}else S.push('<span class="mp-label">Kit</span> '+N+r)}var w=document.createElement("td");w.className="table-mobile-prices",S.length&&(w.innerHTML=S.join(' <span class="mp-sep">·</span> ')),t.appendChild(w),v.appendChild(t)}),r.appendChild(v),a.appendChild(r),i.appendChild(a)}):d.forEach(function(e){var t=document.createElement("div");t.className="product-group";var a=document.createElement("h3");a.className="product-group-title",a.textContent=e,t.appendChild(a);var n=document.createElement("div");n.className="product-grid",c[e].forEach(function(e){var t,a=(e.type||"").toLowerCase();t=-1!==a.indexOf("wine")?function(e){var t=getTintClass(e),a=document.createElement("div");a.className="label-wine"+(t?" "+t:""),e.sku&&a.setAttribute("data-sku",e.sku);var n=parseFloat(e.discount)||0;if(n>0){var r=document.createElement("span");r.className="discount-badge",r.textContent=Math.round(n)+"% OFF",a.appendChild(r)}var i=document.createElement("div");i.className="label-body";var o=document.createElement("div");o.className="brand",o.textContent=e.brand||"",i.appendChild(o);var s=document.createElement("div");s.className="ornament",i.appendChild(s);var l=document.createElement("div");if(l.className="wine-name",l.textContent=e.name||"",i.appendChild(l),e.subcategory){var c=document.createElement("div");c.className="subcategory",c.textContent=e.subcategory,i.appendChild(c)}if(e.time){var d=document.createElement("div");d.className="time",d.textContent=e.time,i.appendChild(d)}if(e.abv){var u=document.createElement("div");u.className="abv",u.textContent=e.abv+(-1===e.abv.toLowerCase().indexOf("abv")?" ABV":""),i.appendChild(u)}(e.tasting_notes||e.sku||e.body||e.oak||e.sweetness)&&i.appendChild(buildLabelNotesToggle(e));var m=document.createElement("div");m.className="notes-spacer",i.appendChild(m),a.appendChild(i);var p=(e.retail_instore||"").trim(),v=(e.retail_kit||"").trim();(p||v)&&a.appendChild(buildLabelPriceFooter(e));var f=document.createElement("div");return f.className="reserve-link",renderReserveControl(f,e,e.name+"|"+e.brand),a.appendChild(f),a}(e):-1!==a.indexOf("beer")?function(e){var t=getTintClass(e),a=document.createElement("div");a.className="label-beer"+(t?" "+t:""),e.sku&&a.setAttribute("data-sku",e.sku);var n=parseFloat(e.discount)||0;if(n>0){var r=document.createElement("span");r.className="discount-badge",r.textContent=Math.round(n)+"% OFF",a.appendChild(r)}var i=document.createElement("div");i.className="label-body";var o=document.createElement("div");o.className="sv-logo",o.innerHTML=SV_LOGO_SVG,i.appendChild(o);var s=document.createElement("div");s.className="brand",s.textContent=e.brand||"",i.appendChild(s);var l=document.createElement("div");l.className="gold-rule",i.appendChild(l);var c=document.createElement("div");if(c.className="beer-name",c.textContent=e.name||"",i.appendChild(c),e.subcategory){var d=document.createElement("div");d.className="subcategory",d.textContent=e.subcategory,i.appendChild(d)}if(e.time){var u=document.createElement("div");u.className="time",u.textContent=e.time,i.appendChild(u)}if(e.abv){var m=document.createElement("div");m.className="abv",m.textContent=e.abv+(-1===e.abv.toLowerCase().indexOf("abv")?" ABV":""),i.appendChild(m)}(e.tasting_notes||e.sku)&&i.appendChild(buildLabelNotesToggle(e));var p=document.createElement("div");p.className="notes-spacer",i.appendChild(p),a.appendChild(i);var v=(e.retail_instore||"").trim(),f=(e.retail_kit||"").trim();(v||f)&&a.appendChild(buildLabelPriceFooter(e));var h=document.createElement("div");return h.className="reserve-link",renderReserveControl(h,e,e.name+"|"+e.brand),a.appendChild(h),a}(e):function(e){var t=document.createElement("div");t.className="product-card",e.sku&&t.setAttribute("data-sku",e.sku);var a=document.createElement("div");a.className="product-card-header";var n=document.createElement("p");n.className="product-brand",n.textContent=e.brand,a.appendChild(n);var r=document.createElement("h4");r.textContent=e.name,a.appendChild(r),t.appendChild(a);var i,o,s,l=(e.batch_size_liters||"").trim();if(e.subcategory||e.time||l){var c=document.createElement("div");c.className="product-detail-row";var d=[];e.subcategory&&d.push(e.subcategory),e.time&&d.push(e.time),l&&d.push(l+"L");for(var u=0;u<d.length;u++){if(u>0){var m=document.createElement("span");m.className="detail-sep",m.textContent="·",c.appendChild(m)}var p=document.createElement("span");p.textContent=d[u],c.appendChild(p)}t.appendChild(c)}if(e.tasting_notes){var v=document.createElement("div");v.className="product-notes";var f=document.createElement("button");f.type="button",f.className="product-notes-toggle",f.setAttribute("aria-expanded","false"),f.innerHTML='More Information <span class="product-notes-chevron">&#9660;</span>';var h=document.createElement("div");if(h.className="product-notes-body",e.sku){var g=document.createElement("div");g.className="product-notes-image";var E=document.createElement("img");E.src="images/products/"+e.sku+".png",E.alt=e.name||"Product image",E.loading="lazy",E.onerror=function(){this.parentElement.remove()},g.appendChild(E),h.appendChild(g)}var C=document.createElement("div");C.className="product-notes-text";var b=document.createElement("p");b.textContent=e.tasting_notes,C.appendChild(b),h.appendChild(C),f.addEventListener("click",(i=v,o=f,s=e,function(){var e=i.classList.toggle("open");o.setAttribute("aria-expanded",e?"true":"false"),e&&trackEvent("detail",s.sku||"",s.name||"")})),v.appendChild(f),v.appendChild(h),t.appendChild(v)}var y=parseFloat(e.discount)||0;if(y>0){var S=document.createElement("span");S.className="product-discount-badge",S.textContent=Math.round(y)+"% OFF",t.appendChild(S)}var L="TRUE"===(e.pricing_from||"").trim().toUpperCase()?"+":"",N=(e.retail_instore||"").trim(),x=(e.retail_kit||"").trim();if(N||x){var I=document.createElement("div");if(I.className="product-prices",N){var _=document.createElement("div");if(_.className="product-price-box",y>0){var k=(parseFloat(N.replace(/[^0-9.]/g,""))*(1-y/100)).toFixed(2);_.innerHTML='<span class="product-price-label">Ferment in store</span><span class="product-price-original">'+N+'</span><span class="product-price-value">$'+k+L+"</span>"}else _.innerHTML='<span class="product-price-label">Ferment in store</span><span class="product-price-value">'+N+L+"</span>";I.appendChild(_)}if(x){var w=document.createElement("div");if(w.className="product-price-box",y>0){var F=(parseFloat(x.replace(/[^0-9.]/g,""))*(1-y/100)).toFixed(2);w.innerHTML='<span class="product-price-label">Kit only</span><span class="product-price-original">'+x+'</span><span class="product-price-value">$'+F+L+"</span>"}else w.innerHTML='<span class="product-price-label">Kit only</span><span class="product-price-value">'+x+L+"</span>";I.appendChild(w)}t.appendChild(I)}var T=document.createElement("div");return T.className="product-reserve-wrap",renderReserveControl(T,e,e.name+"|"+e.brand),t.appendChild(T),t}(e),n.appendChild(t)}),t.appendChild(n),i.appendChild(t)}),e.appendChild(i)}}l.then(function(a){for(var r=a.trim().split("\n"),i=r[0].split(","),o=1;o<r.length;o++){var s=parseCSVLine(r[o]);if(!(s.length<i.length)){for(var l={},c=0;c<i.length;c++)l[i[c].trim()]=s[c].trim();(l.name||l.sku)&&(l.hide&&"true"===l.hide.toLowerCase()||("true"===(l.favorite||"").toLowerCase()&&(l._favRand=Math.random()),e.push(l)))}}u("filter-type","type","Type:"),u("filter-brand","brand","Brand:"),u("filter-subcategory","subcategory","Style:"),u("filter-time","time","Production Time:"),u("filter-body","body","Body:"),u("filter-oak","oak","Oak:"),u("filter-sweetness","sweetness","Sweetness:"),function(){var t=e.some(function(e){return parseFloat(e.discount)>0}),a=document.getElementById("filter-sale");if(!a||!t)return void(a&&(a.style.display="none"));var r=document.createElement("span");r.className="catalog-filter-label",r.textContent="Sale:",a.appendChild(r);var i=document.createElement("button");i.className="catalog-filter-btn",i.type="button",i.textContent="On Sale",i.addEventListener("click",function(){n=!n,i.classList.toggle("active",n),f()}),a.appendChild(i)}(),f();var d=new URLSearchParams(window.location.search).get("sku");if(d){var m=0;setTimeout(function e(){var t=document.querySelector('[data-sku="'+d+'"]');t?(t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("highlight"),setTimeout(function(){t.classList.remove("highlight")},2e3)):m<10&&(m++,setTimeout(e,100))},50)}applyKitsFilters=f;var p,v=document.getElementById("catalog-search");v&&v.addEventListener("input",function(){clearTimeout(p),p=setTimeout(f,180)});var h=document.getElementById("catalog-sort");h&&h.addEventListener("change",function(){t=!0,f()});var g=document.getElementById("catalog-toggle"),E=document.getElementById("catalog-collapsible");g&&E&&g.addEventListener("click",function(){var e="true"===g.getAttribute("aria-expanded");g.setAttribute("aria-expanded",String(!e)),E.classList.toggle("open")})}).catch(function(){})}function initProductTabs(){var e=document.getElementById("product-tabs");if(e){var t=!1,a=!1;e.addEventListener("click",function(n){var r=n.target.closest(".product-tab-btn");if(r){var i=r.getAttribute("data-product-tab");e.querySelectorAll(".product-tab-btn").forEach(function(e){e.classList.remove("active")}),r.classList.add("active");["catalog-controls-kits","catalog-controls-ingredients","catalog-controls-services"].forEach(function(e){var t=document.getElementById(e);t&&t.classList.add("hidden")});var o=document.getElementById("catalog-controls-"+i);o&&o.classList.remove("hidden");var s=document.getElementById("kits-process-note");s&&(s.style.display="kits"===i?"":"none"),document.querySelectorAll(".reservation-bar").forEach(function(e){"kits"===i?updateReservationBar():e.classList.add("hidden")});var l=document.getElementById("product-catalog");if(l)l.querySelectorAll(".catalog-section, .catalog-no-results, .catalog-divider, .catalog-skeleton-grid").forEach(function(e){e.parentNode.removeChild(e)});"kits"===i?applyKitsFilters&&applyKitsFilters():"ingredients"===i?t?renderIngredients():(t=!0,loadIngredients(function(){})):"services"===i&&(a?renderServices():(a=!0,loadServices(function(){})))}});var n=document.getElementById("ingredient-toggle"),r=document.getElementById("ingredient-collapsible");n&&r&&n.addEventListener("click",function(){var e="true"===n.getAttribute("aria-expanded");n.setAttribute("aria-expanded",String(!e)),r.classList.toggle("open")})}}window.addEventListener("resize",function(){clearTimeout(_eqResizeTimer),_eqResizeTimer=setTimeout(equalizeCardHeights,150)});var _allIngredients=[],_ingredientFilters={unit:[]};function loadIngredients(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_INGREDIENTS_CSV_URL?SHEETS_CONFIG.PUBLISHED_INGREDIENTS_CSV_URL:null,a="sv-ingredients-csv",n="sv-ingredients-csv-ts";function r(e){try{localStorage.setItem(a,e),localStorage.setItem(n,String(Date.now()))}catch(e){}}var i,o=function(){try{var e=localStorage.getItem(a),t=parseInt(localStorage.getItem(n),10)||0;if(e)return{csv:e,fresh:Date.now()-t<36e5}}catch(e){}return null}();o?(i=Promise.resolve(o.csv),o.fresh||fetchCSV(t||"content/ingredients.csv").then(r).catch(function(){})):(i=t?fetchCSV(t).catch(function(){return fetchCSV("content/ingredients.csv")}):fetchCSV("content/ingredients.csv")).then(r);i.then(function(t){var a=t.trim().split("\n"),n=a[0].split(",");_allIngredients=[];for(var r=1;r<a.length;r++){var i=parseCSVLine(a[r]);if(!(i.length<n.length)){for(var o={},s=0;s<n.length;s++)o[n[s].trim()]=i[s].trim();(o.name||o.sku)&&(o.hide&&"true"===o.hide.toLowerCase()||_allIngredients.push(o))}}buildIngredientFilters(),renderIngredients(),wireIngredientEvents(),e&&e()}).catch(function(){})}function buildIngredientFilters(){var e=document.getElementById("filter-unit");if(e&&!(e.children.length>0)){var t=document.createElement("span");t.className="catalog-filter-label",t.textContent="Unit:",e.appendChild(t);var a=[];_allIngredients.forEach(function(e){var t=(e.unit||"").trim();t&&-1===a.indexOf(t)&&a.push(t)}),a.sort();var n=document.createElement("button");n.className="catalog-filter-btn active",n.type="button",n.textContent="All",n.setAttribute("data-value","All"),n.addEventListener("click",function(){_ingredientFilters.unit=[],e.querySelectorAll(".catalog-filter-btn").forEach(function(e){e.classList.remove("active")}),n.classList.add("active"),renderIngredients()}),e.appendChild(n),a.forEach(function(t){var a=document.createElement("button");a.className="catalog-filter-btn",a.type="button",a.textContent=t,a.setAttribute("data-value",t),a.addEventListener("click",function(){var a=_ingredientFilters.unit.indexOf(t);-1!==a?_ingredientFilters.unit.splice(a,1):_ingredientFilters.unit.push(t);var n=e.querySelectorAll(".catalog-filter-btn");n.forEach(function(e){e.classList.remove("active")}),0===_ingredientFilters.unit.length?e.querySelector('[data-value="All"]').classList.add("active"):n.forEach(function(e){-1!==_ingredientFilters.unit.indexOf(e.getAttribute("data-value"))&&e.classList.add("active")}),renderIngredients()}),e.appendChild(a)})}}function wireIngredientEvents(){var e,t=document.getElementById("ingredient-search");t&&t.addEventListener("input",function(){clearTimeout(e),e=setTimeout(renderIngredients,180)});var a=document.getElementById("ingredient-sort");a&&a.addEventListener("change",function(){renderIngredients()})}function renderIngredients(){var e=document.getElementById("product-catalog");if(e){e.querySelectorAll(".catalog-section, .catalog-no-results, .catalog-divider, .catalog-skeleton-grid").forEach(function(e){e.parentNode.removeChild(e)});var t=document.getElementById("ingredient-search"),a=t?t.value.toLowerCase():"",n=_allIngredients.filter(function(e){if(_ingredientFilters.unit.length>0&&-1===_ingredientFilters.unit.indexOf(e.unit))return!1;if(!a)return!0;var t=(e.name||"").toLowerCase(),n=(e.description||"").toLowerCase();return-1!==t.indexOf(a)||-1!==n.indexOf(a)}),r=document.getElementById("ingredient-sort"),i=r?r.value:"name-asc";if(n.sort(function(e,t){switch(i){case"name-asc":return(e.name||"").localeCompare(t.name||"");case"name-desc":return(t.name||"").localeCompare(e.name||"");case"price-asc":return(parseFloat(e.price_per_unit)||0)-(parseFloat(t.price_per_unit)||0);case"price-desc":return(parseFloat(t.price_per_unit)||0)-(parseFloat(e.price_per_unit)||0);default:return 0}}),0===n.length){var o=document.createElement("p");return o.className="catalog-no-results",o.textContent="No ingredients or supplies found.",void e.appendChild(o)}var s=n.filter(function(e){return(parseInt(e.stock,10)||0)>0}),l=n.filter(function(e){return(parseInt(e.stock,10)||0)<=0});if(renderIngredientSection(e,"In stock",s),s.length>0&&l.length>0){var c=document.createElement("div");c.className="section-icon catalog-divider";var d=document.createElement("img");d.src="images/Icon_green.svg",d.alt="",d.setAttribute("aria-hidden","true"),c.appendChild(d),e.appendChild(c)}renderIngredientSection(e,"Out of stock",l,"catalog-section--order"),equalizeCardHeights()}}function renderIngredientSection(e,t,a,n){if(0!==a.length){var r=document.createElement("div");r.className="catalog-section"+(n?" "+n:"");var i=document.createElement("div");i.className="catalog-section-header";var o=document.createElement("h2");if(o.className="catalog-section-title",o.textContent=t,i.appendChild(o),r.appendChild(i),"table"===catalogViewMode){var s=document.createElement("table");s.className="catalog-table";var l=document.createElement("thead"),c=document.getElementById("ingredient-sort"),d=c?c.value:"name-asc",u=document.createElement("tr");[{label:"Name",sort:"name"},{label:"Unit",sort:null},{label:"Price",sort:"price"}].forEach(function(e){var t,a=document.createElement("th");if(a.textContent=e.label,e.sort){a.setAttribute("data-sort",e.sort);var n=document.createElement("span");n.className="sort-arrow",d.replace(/-asc$|-desc$/,"")===e.sort?(a.classList.add("sort-active"),n.textContent=-1!==d.indexOf("-desc")?"▼":"▲"):n.textContent="▲",a.appendChild(n),a.addEventListener("click",(t=e.sort,function(){var e=document.getElementById("ingredient-sort");if(e){var a=e.value,n=a.replace(/-asc$|-desc$/,"");e.value=n===t?t+(-1!==a.indexOf("-asc")?"-desc":"-asc"):t+"-asc",renderIngredients()}}))}u.appendChild(a)}),l.appendChild(u),s.appendChild(l);var m=document.createElement("tbody");a.forEach(function(e){var t=document.createElement("tr"),a=document.createElement("td");a.setAttribute("data-label","Name"),a.className="table-name",a.textContent=e.name||"",t.appendChild(a);var n=document.createElement("td");n.setAttribute("data-label","Unit"),n.textContent=(e.unit||"").trim(),t.appendChild(n);var r=document.createElement("td");r.setAttribute("data-label","Price");var i=(e.price_per_unit||"").trim();i&&(r.textContent="$"===i.charAt(0)?i:"$"+i),t.appendChild(r),m.appendChild(t)}),s.appendChild(m),r.appendChild(s)}else{var p=document.createElement("div");p.className="product-grid",a.forEach(function(e){var t=document.createElement("div");t.className="product-card";var a=document.createElement("div");a.className="product-card-header";var n=document.createElement("h4");n.textContent=e.name,a.appendChild(n),t.appendChild(a);var r,i,o=(e.unit||"").trim(),s=(e.price_per_unit||"").trim();if(o||s){var l=document.createElement("div");l.className="product-detail-row";var c=[];o&&c.push(o),s&&c.push("$"===s.charAt(0)?s:"$"+s);for(var d=0;d<c.length;d++){if(d>0){var u=document.createElement("span");u.className="detail-sep",u.textContent="·",l.appendChild(u)}var m=document.createElement("span");m.textContent=c[d],l.appendChild(m)}t.appendChild(l)}if(e.description){var v=document.createElement("div");v.className="product-notes";var f=document.createElement("button");f.type="button",f.className="product-notes-toggle",f.setAttribute("aria-expanded","false"),f.innerHTML='More Information <span class="product-notes-chevron">&#9660;</span>';var h=document.createElement("div");h.className="product-notes-body";var g=document.createElement("p");g.textContent=e.description,h.appendChild(g),f.addEventListener("click",(r=v,i=f,function(){var e=r.classList.toggle("open");i.setAttribute("aria-expanded",e?"true":"false")})),v.appendChild(f),v.appendChild(h),t.appendChild(v)}var E=parseInt(e.stock,10)||0,C=document.createElement("span");C.className="stock-badge",E>0?(C.classList.add("stock-badge--in"),C.textContent="In Stock"):(C.classList.add("stock-badge--out"),C.textContent="Out of Stock"),t.appendChild(C),p.appendChild(t)}),r.appendChild(p)}e.appendChild(r)}}var _allServices=[],_servicesSortVal="name-asc";function loadServices(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_SERVICES_CSV_URL?SHEETS_CONFIG.PUBLISHED_SERVICES_CSV_URL:null,a="sv-services-csv",n="sv-services-csv-ts";function r(e){try{localStorage.setItem(a,e),localStorage.setItem(n,String(Date.now()))}catch(e){}}var i,o=function(){try{var e=localStorage.getItem(a),t=parseInt(localStorage.getItem(n),10)||0;if(e)return{csv:e,fresh:Date.now()-t<36e5}}catch(e){}return null}();o?(i=Promise.resolve(o.csv),o.fresh||fetchCSV(t||"content/services.csv").then(r).catch(function(){})):(i=t?fetchCSV(t).catch(function(){return fetchCSV("content/services.csv")}):fetchCSV("content/services.csv")).then(r);i.then(function(t){var a=t.trim().split("\n"),n=a[0].split(",");_allServices=[];for(var r=1;r<a.length;r++){var i=parseCSVLine(a[r]);if(!(i.length<n.length)){for(var o={},s=0;s<n.length;s++)o[n[s].trim()]=i[s].trim();(o.name||o.sku)&&(o.hide&&"true"===o.hide.toLowerCase()||_allServices.push(o))}}renderServices(),wireServiceEvents(),e&&e()}).catch(function(){})}function wireServiceEvents(){var e,t=document.getElementById("service-search");t&&t.addEventListener("input",function(){clearTimeout(e),e=setTimeout(renderServices,180)})}function renderServices(){var e=document.getElementById("product-catalog");if(e){e.querySelectorAll(".catalog-section, .catalog-no-results, .catalog-divider, .catalog-skeleton-grid").forEach(function(e){e.parentNode.removeChild(e)});var t=document.getElementById("service-search"),a=t?t.value.toLowerCase():"",n=_allServices.filter(function(e){if(!a)return!0;var t=(e.name||"").toLowerCase(),n=(e.desription||e.description||"").toLowerCase();return-1!==t.indexOf(a)||-1!==n.indexOf(a)});if(n.sort(function(e,t){switch(_servicesSortVal){case"name-asc":return(e.name||"").localeCompare(t.name||"");case"name-desc":return(t.name||"").localeCompare(e.name||"");case"price-asc":return(parseFloat((e.price||"").replace(/[^0-9.]/g,""))||0)-(parseFloat((t.price||"").replace(/[^0-9.]/g,""))||0);case"price-desc":return(parseFloat((t.price||"").replace(/[^0-9.]/g,""))||0)-(parseFloat((e.price||"").replace(/[^0-9.]/g,""))||0);default:return 0}}),0===n.length){var r=document.createElement("p");return r.className="catalog-no-results",r.textContent="No services found.",void e.appendChild(r)}var i=document.createElement("div");i.className="catalog-section";var o=document.createElement("div");o.className="catalog-section-header";var s=document.createElement("h2");if(s.className="catalog-section-title",s.textContent="Our Services",o.appendChild(s),i.appendChild(o),"table"===catalogViewMode){var l=document.createElement("table");l.className="catalog-table";var c=document.createElement("thead"),d=document.createElement("tr");[{label:"Name",sort:"name"},{label:"Description",sort:null},{label:"Price",sort:"price"}].forEach(function(e){var t,a=document.createElement("th");if(a.textContent=e.label,e.sort){a.setAttribute("data-sort",e.sort);var n=document.createElement("span");n.className="sort-arrow",_servicesSortVal.replace(/-asc$|-desc$/,"")===e.sort?(a.classList.add("sort-active"),n.textContent=-1!==_servicesSortVal.indexOf("-desc")?"▼":"▲"):n.textContent="▲",a.appendChild(n),a.addEventListener("click",(t=e.sort,function(){var e=_servicesSortVal.replace(/-asc$|-desc$/,"");_servicesSortVal=e===t?t+(-1!==_servicesSortVal.indexOf("-asc")?"-desc":"-asc"):t+"-asc",renderServices()}))}d.appendChild(a)}),c.appendChild(d),l.appendChild(c);var u=document.createElement("tbody");n.forEach(function(e){var t=document.createElement("tr"),a=document.createElement("td");a.setAttribute("data-label","Name"),a.className="table-name",a.textContent=e.name||"";var n=parseFloat(e.discount)||0;if(n>0){var r=document.createElement("span");r.className="discount-badge-sm",r.textContent=Math.round(n)+"% OFF",a.appendChild(r)}t.appendChild(a);var i=document.createElement("td");i.setAttribute("data-label","Description"),i.textContent=(e.desription||e.description||"").trim(),t.appendChild(i);var o=document.createElement("td");o.setAttribute("data-label","Price");var s=(e.price||"").trim();if(s){o.className="table-prices";var l="$"===s.charAt(0)?s:"$"+s;if(n>0){var c=(parseFloat(s.replace(/[^0-9.]/g,""))*(1-n/100)).toFixed(2);o.innerHTML='<span class="table-price-original">'+l+'</span><span class="table-price-sale">$'+c+"</span>"}else o.textContent=l}t.appendChild(o),u.appendChild(t)}),l.appendChild(u),i.appendChild(l)}else{var m=document.createElement("div");m.className="product-grid",n.forEach(function(e){var t=document.createElement("div");t.className="product-card";var a=document.createElement("div");a.className="product-card-header";var n=document.createElement("h4");n.textContent=e.name,a.appendChild(n),t.appendChild(a);var r=(e.desription||e.description||"").trim();if(r){var i=document.createElement("p");i.className="service-description",i.textContent=r,t.appendChild(i)}var o=(e.price||"").trim(),s=parseFloat(e.discount)||0;if(s>0){var l=document.createElement("span");l.className="product-discount-badge",l.textContent=Math.round(s)+"% OFF",t.appendChild(l)}if(o){var c=document.createElement("div");c.className="product-prices service-price";var d=document.createElement("div");if(d.className="product-price-box",s>0){var u=(parseFloat(o.replace(/[^0-9.]/g,""))*(1-s/100)).toFixed(2);d.innerHTML='<span class="product-price-label">Price</span><span class="product-price-original">'+("$"===o.charAt(0)?o:"$"+o)+'</span><span class="product-price-value">$'+u+"</span>"}else d.innerHTML='<span class="product-price-label">Price</span><span class="product-price-value">'+("$"===o.charAt(0)?o:"$"+o)+"</span>";c.appendChild(d),t.appendChild(c)}m.appendChild(t)}),i.appendChild(m)}e.appendChild(i),equalizeCardHeights()}}function parseCSVLine(e){for(var t=[],a="",n=!1,r=0;r<e.length;r++){var i=e[r];n?'"'===i?r+1<e.length&&'"'===e[r+1]?(a+='"',r++):n=!1:a+=i:'"'===i?n=!0:","===i?(t.push(a),a=""):a+=i}return t.push(a),t}var RESERVATION_KEY="sv-reservation";function getReservation(){try{return JSON.parse(localStorage.getItem(RESERVATION_KEY))||[]}catch(e){return[]}}function saveReservation(e){localStorage.setItem(RESERVATION_KEY,JSON.stringify(e))}function getReservedQty(e){for(var t=getReservation(),a=0;a<t.length;a++)if(t[a].name+"|"+t[a].brand===e)return t[a].qty||1;return 0}function isReserved(e){return getReservedQty(e)>0}function setReservationQty(e,t){for(var a=getReservation(),n=e.name+"|"+e.brand,r=-1,i=0;i<a.length;i++)if(a[i].name+"|"+a[i].brand===n){r=i;break}if(t<=0)-1!==r&&a.splice(r,1);else if(-1!==r)a[r].qty=t;else{var o=void 0!==e.available&&""!==e.available?parseInt(e.available,10)||0:parseInt(e.stock,10)||0;a.push({name:e.name,brand:e.brand,price:e.retail_instore||e.retail_kit||"",discount:e.discount||"",stock:o,time:e.time||"",qty:t})}saveReservation(a),updateReservationBar()}function renderReserveControl(e,t,a){e.innerHTML="";var n=getReservedQty(a);if(0===n){var r=document.createElement("button");r.type="button",r.className="product-reserve-btn",r.textContent="Reserve",r.addEventListener("click",function(){setReservationQty(t,1),trackEvent("reserve",t.sku||"",t.name||""),renderReserveControl(e,t,a)}),e.appendChild(r)}else{var i=document.createElement("div");i.className="product-qty-controls";var o=document.createElement("button");o.type="button",o.className="qty-btn",o.textContent="−",o.addEventListener("click",function(){setReservationQty(t,n-1),renderReserveControl(e,t,a)});var s=document.createElement("span");s.className="qty-value",s.textContent=n;var l=document.createElement("button");l.type="button",l.className="qty-btn",l.textContent="+",l.addEventListener("click",function(){setReservationQty(t,n+1),renderReserveControl(e,t,a)}),i.appendChild(o),i.appendChild(s),i.appendChild(l),e.appendChild(i)}}function initReservationBar(){var e='<div class="container"><span class="reservation-bar-count"></span><span class="reservation-bar-actions"><button type="button" class="reservation-bar-clear">Clear</button><a href="reservation.html" class="reservation-bar-link">Confirm Reservation &rarr;</a></span></div>',t=document.createElement("div");t.className="reservation-bar hidden",t.id="reservation-bar",t.innerHTML=e,document.body.appendChild(t);var a=document.getElementById("product-catalog");if(a){var n=document.createElement("div");n.className="reservation-bar reservation-bar-inline hidden",n.id="reservation-bar-inline",n.innerHTML=e,a.parentNode.insertBefore(n,a)}document.querySelectorAll(".reservation-bar-clear").forEach(function(e){e.addEventListener("click",function(){saveReservation([]),updateReservationBar()})}),updateReservationBar()}function updateReservationBar(){var e=document.querySelectorAll(".reservation-bar");if(0!==e.length){var t=getReservation(),a=0;t.forEach(function(e){a+=e.qty||1});for(var n=a+(1===a?" kit selected":" kits selected"),r=0;r<e.length;r++){var i=e[r].querySelector(".reservation-bar-count");a>0?(e[r].classList.remove("hidden"),i&&(i.textContent=n)):e[r].classList.add("hidden")}}}function initReservationPage(){renderReservationItems(),loadTimeslots(),setupReservationForm()}function refreshReservationDependents(){loadTimeslots();var e=document.querySelector('input[name="timeslot"]:checked');if(e)updateCompletionEstimate(e.value);else{var t=document.getElementById("completion-estimate");t&&(t.style.display="none")}}function renderReservationItems(){var e=document.getElementById("reservation-items"),t=document.getElementById("reservation-empty");if(e){var a=getReservation();if(e.innerHTML="",0===a.length){t&&(t.style.display="");var n=document.getElementById("timeslot-picker"),r=document.getElementById("reservation-form-section");return n&&(n.style.display="none"),void(r&&(r.style.display="none"))}t&&(t.style.display="none");n=document.getElementById("timeslot-picker"),r=document.getElementById("reservation-form-section");n&&(n.style.display=""),r&&(r.style.display="");var i=document.createElement("table");i.className="catalog-table reservation-table";var o=document.createElement("thead"),s=a.some(function(e){return""!==(e.time||"").trim()}),l=document.createElement("tr");["Name","Brand","Time","Price","Status","Qty",""].forEach(function(e){if("Time"!==e||s){var t=document.createElement("th");t.textContent=e,l.appendChild(t)}}),o.appendChild(l),i.appendChild(o);var c=document.createElement("tbody");a.forEach(function(e){var t=document.createElement("tr"),a=document.createElement("td");a.setAttribute("data-label","Name");var n=document.createElement("span");if(n.className="table-name",n.textContent=e.name,a.appendChild(n),e.discount&&parseFloat(e.discount)>0){var r=document.createElement("span");r.className="discount-badge-sm",r.textContent=Math.round(parseFloat(e.discount))+"% OFF",a.appendChild(r)}t.appendChild(a);var i=document.createElement("td");if(i.setAttribute("data-label","Brand"),i.textContent=e.brand||"",t.appendChild(i),s){var o=document.createElement("td");o.setAttribute("data-label","Time"),o.textContent=e.time||"",t.appendChild(o)}var l=document.createElement("td");if(l.setAttribute("data-label","Price"),e.price){var d="$"===e.price.charAt(0)?e.price:"$"+e.price;if(e.discount&&parseFloat(e.discount)>0){var u=((parseFloat((e.price||"0").replace("$",""))||0)*(1-parseFloat(e.discount)/100)).toFixed(2);l.className="table-prices",l.innerHTML='<span class="table-price-original">'+d+'</span><span class="table-price-sale">$'+u+"</span>"}else l.textContent=d}t.appendChild(l);var m=document.createElement("td");m.setAttribute("data-label","Status");var p=parseInt(e.stock,10)||0,v=document.createElement("span");v.className="reservation-item-stock",p>0?(v.classList.add("reservation-item-stock--available"),v.textContent="In Stock"):(v.classList.add("reservation-item-stock--order"),v.textContent="Needs Ordering"),m.appendChild(v),t.appendChild(m);var f=document.createElement("td");f.setAttribute("data-label","Qty");var h=document.createElement("div");h.className="product-qty-controls";var g,E=document.createElement("button");E.type="button",E.className="qty-btn",E.textContent="−",E.addEventListener("click",(g=e,function(){for(var e=getReservation(),t=0;t<e.length;t++)if(e[t].name+"|"+e[t].brand==g.name+"|"+g.brand){e[t].qty=(e[t].qty||1)-1,e[t].qty<=0&&e.splice(t,1);break}saveReservation(e),renderReservationItems(),refreshReservationDependents()}));var C=document.createElement("span");C.className="qty-value",C.textContent=e.qty||1;var b=document.createElement("button");b.type="button",b.className="qty-btn",b.textContent="+",b.addEventListener("click",function(e){return function(){for(var t=getReservation(),a=0;a<t.length;a++)if(t[a].name+"|"+t[a].brand==e.name+"|"+e.brand){t[a].qty=(t[a].qty||1)+1;break}saveReservation(t),renderReservationItems(),refreshReservationDependents()}}(e)),h.appendChild(E),h.appendChild(C),h.appendChild(b),f.appendChild(h),t.appendChild(f);var y=document.createElement("td");y.setAttribute("data-label","");var S=document.createElement("button");S.type="button",S.className="reservation-item-remove",S.textContent="Remove",S.addEventListener("click",function(){saveReservation(getReservation().filter(function(t){return t.name+"|"+t.brand!=e.name+"|"+e.brand})),renderReservationItems(),refreshReservationDependents()}),y.appendChild(S),t.appendChild(y),c.appendChild(t)}),i.appendChild(c),e.appendChild(i);var d=0;a.forEach(function(e){var t=parseFloat((e.price||"0").replace("$",""))||0,a=parseFloat(e.discount)||0;a>0&&(t*=1-a/100),d+=t*(e.qty||1)});var u=document.createElement("div");u.className="reservation-subtotal",u.innerHTML='<span>Estimated Subtotal <span class="reservation-disclaimer">— Final pricing may vary.</span></span><span>$'+d.toFixed(2)+"</span>",e.appendChild(u);var m=document.createElement("div");m.className="reservation-clear-wrap";var p=document.createElement("button");p.type="button",p.className="btn-secondary reservation-clear-btn",p.textContent="Clear Selected Items",p.addEventListener("click",function(){saveReservation([]),renderReservationItems(),refreshReservationDependents()}),m.appendChild(p),e.appendChild(m)}}function loadTimeslots(){var e=document.getElementById("timeslot-groups");if(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL?SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL:"content/timeslots.csv";fetch(t).then(function(e){return e.text()}).then(function(t){var a=t.trim().split("\n");if(!(a.length<2)){for(var n=a[0].split(","),r=[],i=1;i<a.length;i++){var o=a[i].split(",");if(!(o.length<3)){for(var s={},l=0;l<n.length;l++)s[n[l].trim()]=o[l].trim();r.push(s)}}r=r.filter(function(e){return!e.status||"available"===e.status});var c=getReservation(),d=c.some(function(e){return 0===(e.stock||0)}),u=null;d&&((u=new Date).setDate(u.getDate()+14),u.setHours(0,0,0,0));var m={};r.forEach(function(e){m[e.date]||(m[e.date]=[]),m[e.date].push(e)});var p=Object.keys(m).sort();if(0!==p.length){new Date(p[0]+"T00:00:00"),new Date(p[p.length-1]+"T00:00:00");var v=[];p.forEach(function(e){var t=e.substring(0,7);-1===v.indexOf(t)&&v.push(t)}),v.sort();for(var f=(new Date).getFullYear()+"-"+String((new Date).getMonth()+1).padStart(2,"0"),h=0,g=0;g<v.length;g++){if(v[g]>=f){h=g;break}h=g}if(e.innerHTML="",d){var E=document.createElement("p");E.className="timeslot-notice",E.textContent="Some of your selected items need to be ordered in. Timeslots within the next 2 weeks are not available.",e.appendChild(E)}if(document.body.classList.contains("kiosk-mode")&&!d&&c.length>0){var C=document.createElement("div");C.className="start-now-wrap";var b=document.createElement("button");b.type="button",b.className="btn start-now-btn",b.textContent="Start Now";var y=document.createElement("p");y.className="start-now-note",y.textContent="All your items are in stock — start your fermentation right away.";var S=document.createElement("input");S.type="radio",S.name="timeslot",S.value="Walk-in — Immediate",S.style.display="none",e.appendChild(S),b.addEventListener("click",function(){S.checked=!0,b.classList.add("start-now-selected"),e.querySelectorAll('input[name="timeslot"]:not([value="Walk-in — Immediate"])').forEach(function(e){e.checked=!1});var t=document.getElementById("completion-estimate");t&&(t.style.display="none")});var L=document.createElement("p");L.className="start-now-or",L.textContent="or choose a timeslot below",C.appendChild(y),C.appendChild(b),C.appendChild(L),e.appendChild(C)}var N=document.createElement("div");N.className="cal",e.appendChild(N);var x=document.createElement("div");x.className="cal-slots",e.appendChild(x);var I=null,_=0;!function e(){N.innerHTML="";var t=v[h],a=parseInt(t.substring(0,4),10),n=parseInt(t.substring(5,7),10)-1,r=document.createElement("div");r.className="cal-header";var i=document.createElement("button");i.type="button",i.className="cal-nav",i.textContent="‹",i.disabled=0===h,i.addEventListener("click",function(){h>0&&(h--,e())});var o=document.createElement("span");o.className="cal-title",o.textContent=["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+a;var s=document.createElement("button");s.type="button",s.className="cal-nav",s.textContent="›",s.disabled=h===v.length-1,s.addEventListener("click",function(){h<v.length-1&&(h++,e())}),r.appendChild(i),r.appendChild(o),r.appendChild(s),N.appendChild(r);var l=document.createElement("div");l.className="cal-grid",["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(function(e){var t=document.createElement("div");t.className="cal-dow",t.textContent=e,l.appendChild(t)});var c=new Date(a,n,1).getDay(),d=new Date(a,n+1,0).getDate(),p=new Date;p.setHours(0,0,0,0);for(var f=p.getFullYear()+"-"+String(p.getMonth()+1).padStart(2,"0")+"-"+String(p.getDate()).padStart(2,"0"),g=0;g<c;g++){var E=document.createElement("div");E.className="cal-day cal-day--disabled",l.appendChild(E)}for(var C=1;C<=d;C++){var b=a+"-"+String(n+1).padStart(2,"0")+"-"+String(C).padStart(2,"0"),y=document.createElement("button");y.type="button",y.className="cal-day",y.textContent=C,y.setAttribute("data-date",b);var S=new Date(b+"T00:00:00"),L=S<p,x=!!m[b],_=x&&m[b].some(function(e){return"available"===e.status}),w=u&&S<u;if(b===f&&y.classList.add("cal-day--today"),b===I&&y.classList.add("cal-day--selected"),L||!x||w){if(y.classList.add("cal-day--disabled"),y.disabled=!0,!L&&!x&&!w){y.classList.add("cal-day--closed");var F=document.createElement("span");F.className="cal-day-closed",F.textContent="Closed",y.appendChild(F)}}else _?y.classList.add("cal-day--available"):y.classList.add("cal-day--full");(function(t){y.addEventListener("click",function(){I=t,e(),k(t)})})(b),l.appendChild(y)}N.appendChild(l)}(),e.addEventListener("change",function(t){if("timeslot"===t.target.name){updateCompletionEstimate(t.target.value);var a=e.querySelector(".start-now-btn");a&&"Walk-in — Immediate"!==t.target.value&&a.classList.remove("start-now-selected")}})}}function k(e){x.innerHTML="";var t=m[e];if(t){var a=new Date(e+"T00:00:00"),n=document.createElement("h3");n.className="cal-slots-heading",n.textContent=a.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),x.appendChild(n);var r=document.createElement("div");r.className="cal-slots-grid",t.forEach(function(t){var a=document.createElement("div");a.className="timeslot-option";var n="booked"===t.status;n&&a.classList.add("booked");var i="timeslot-"+_;_++;var o=document.createElement("input");o.type="radio",o.name="timeslot",o.id=i,o.value=e+" "+t.time,n&&(o.disabled=!0);var s=document.createElement("label");s.setAttribute("for",i),s.textContent=t.time,a.appendChild(o),a.appendChild(s),r.appendChild(a)}),x.appendChild(r)}}}).catch(function(){e.innerHTML="<p>Unable to load timeslots.</p>"})}}function updateCompletionEstimate(e){var t=document.getElementById("completion-estimate"),a=document.getElementById("completion-estimate-text");if(t&&a){var n=getReservation();if(0!==n.length){var r=0;if(n.forEach(function(e){var t=parseInt(e.time,10);!isNaN(t)&&t>r&&(r=t)}),0!==r){var i=e.split(" ")[0],o=new Date(i+"T00:00:00");if(isNaN(o.getTime()))t.style.display="none";else{var s=new Date(o);s.setDate(s.getDate()+7*r);var l=new Date(s);l.setDate(l.getDate()+6);var c={month:"long",day:"numeric"},d=s.toLocaleDateString("en-US",c),u=s.getMonth()===l.getMonth()?{day:"numeric"}:c,m=l.toLocaleDateString("en-US",u),p=l.getFullYear();a.textContent="Estimated ready the week of "+d+"–"+m+", "+p+" (approximately "+r+" week"+(1!==r?"s":"")+" from your appointment). This is an estimate — actual times may vary.",t.style.display=""}}else t.style.display="none"}else t.style.display="none"}}var GOOGLE_FORM_URL="https://docs.google.com/forms/d/e/1FAIpQLSc-m7i0zWKTkT11nF1an6PXdR6JejpJNvDJOYPBkxz4wOYO9A/formResponse",GOOGLE_FORM_FIELDS={name:"entry.1466333029",email:"entry.763864451",phone:"entry.304343590",products:"entry.1291378806",timeslot:"entry.286083838"},BEER_WAITLIST_FORM_URL="https://docs.google.com/forms/d/e/YOUR_BEER_WAITLIST_FORM_ID/formResponse",BEER_WAITLIST_FIELDS={email:"entry.YOUR_EMAIL_ENTRY_ID"};function setupBeerWaitlistForm(){var e=document.getElementById("beer-waitlist-form");e&&e.addEventListener("submit",function(t){t.preventDefault();var a=document.getElementById("beer-waitlist-email").value.trim();if(a){var n=document.createElement("form");n.method="POST",n.action=BEER_WAITLIST_FORM_URL,n.target="beer-waitlist-iframe",n.style.display="none";var r=document.createElement("input");r.name=BEER_WAITLIST_FIELDS.email,r.value=a,n.appendChild(r),document.body.appendChild(n),n.submit(),document.body.removeChild(n),e.style.display="none",document.getElementById("beer-waitlist-confirm").style.display=""}})}function setupReservationForm(){var e=document.getElementById("reservation-form");if(e){var t=document.getElementById("res-loaded-at");t&&(t.value=String(Date.now())),e.addEventListener("submit",function(t){t.preventDefault();var a=document.getElementById("res-website");if(!a||!a.value){if(!document.body.classList.contains("kiosk-mode")){var n=parseInt(document.getElementById("res-loaded-at").value,10)||0;if(Date.now()-n<3e3)return}var r=getReservation();if(0!==r.length){var i=document.querySelector('input[name="timeslot"]:checked');if(i){var o=document.getElementById("res-name").value.trim(),s=document.getElementById("res-email").value.trim(),l=document.getElementById("res-phone").value.trim();if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){var c=l.replace(/\D/g,"");if(c.length<10||c.length>15)alert("Please enter a valid phone number (at least 10 digits).");else{var d=r.map(function(e){var t=e.qty||1;return e.name+(t>1?" x"+t:"")}).join(", "),u=i.value,m=e.querySelector('button[type="submit"]');m&&(m.disabled=!0,m.setAttribute("data-original-text",m.textContent),m.textContent="Processing...",m.classList.add("btn-loading"));var p=document.createElement("form");p.method="POST",p.action=GOOGLE_FORM_URL,p.target="reservation-iframe",p.style.display="none",[{name:GOOGLE_FORM_FIELDS.name,value:o},{name:GOOGLE_FORM_FIELDS.email,value:s},{name:GOOGLE_FORM_FIELDS.phone,value:l},{name:GOOGLE_FORM_FIELDS.products,value:d},{name:GOOGLE_FORM_FIELDS.timeslot,value:u}].forEach(function(e){var t=document.createElement("input");t.type="hidden",t.name=e.name,t.value=e.value,p.appendChild(t)}),document.body.appendChild(p),p.submit(),document.body.removeChild(p),localStorage.removeItem(RESERVATION_KEY),document.getElementById("reservation-list").style.display="none",document.getElementById("timeslot-picker").style.display="none",document.getElementById("reservation-form-section").style.display="none",document.getElementById("reservation-confirm").style.display=""}}else alert("Please enter a valid email address.")}else alert("Please select a timeslot.")}else alert("Please add at least one product to your reservation.")}})}}