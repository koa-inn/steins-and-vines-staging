var _eventQueue=[],_EVENT_FLUSH_THRESHOLD=5;function trackEvent(e,t,n){("undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.TRACK_EVENTS_URL?SHEETS_CONFIG.TRACK_EVENTS_URL:"")&&(_eventQueue.push({type:e,sku:t,name:n}),_eventQueue.length>=_EVENT_FLUSH_THRESHOLD&&flushEvents())}function flushEvents(){if(0!==_eventQueue.length){var e="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.TRACK_EVENTS_URL?SHEETS_CONFIG.TRACK_EVENTS_URL:"";if(e){var t=JSON.stringify({events:_eventQueue});_eventQueue=[],navigator.sendBeacon&&navigator.sendBeacon(e,new Blob([t],{type:"application/json"}))}}}document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&flushEvents()});var SV_LOGO_SVG='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 2" viewBox="0 0 797.15 942.65"><g data-name="Layer 1"><path d="M67.88 876.85c71.18 35.21 208.97 46.04 324.73 44.8-5.81-11.76-6.6-24.49-2.6-36.02-10.83-1.36-19.04-9.7-23.55-14.29l-.24-.26c-13.72-14.95-15.42-38.83-4.01-55.68.16-.28.36-.55.55-.84-3.89 4.75-8.86 9.15-14.76 13.01-2.12 1.41-4.61 2.12-7.1 2.12-.29 0-.58 0-.88-.02-4.25 3.63-8.63 6.24-12.13 8.16l-.28.15c-5.16 2.79-11.22 5.64-16.96 5.64-4.57 0-8.68-1.77-11.55-4.96-1.51-1.69-2.6-3.67-3.21-5.84-2.32.5-4.74.75-7.23.75-6.36 0-12.11-1.57-17.69-3.08-4.8-1.31-9.36-2.55-13.66-2.55-.52 0-1.05.02-1.57.05-.32.03-.65.05-.96.05-4.27 0-8.27-2.09-10.7-5.63-2.61-3.81-3-8.71-1.04-12.89 1.61-3.39 2.42-7.93 3.28-12.72 1.49-8.24 3.28-18.13 9.99-26.52-.32-.28-.63-.57-.94-.89l-.13-.13c-4.14-4.44-5.14-10.82-2.61-16.62 3.6-8.3 16.57-16.93 27.77-21.52.96-2.29 2.71-4.8 5.87-6.91 7.54-5 16.32-7.61 25.41-7.61 7.04 0 13.82 1.62 19.71 4.61-.52-1.64-1.04-3.24-1.52-4.75-30.02-32.79-53.73-70.34-76.66-106.68-40.01-63.37-74.95-118.7-132.47-135.18-.44 3.54-.79 6.68-.84 8.21-.37 11.6-.16 20.66.67 27.77.11.73.81 3.55 1.22 5.24 1.18 4.88 1.9 7.8 1.48 10.7 14.31-7.74 32.63-8.17 47.03-.57 14.24 7.51 22.12 21.54 21.99 38.84 8.06-.16 15.62 1.48 22.24 4.96 18.52 9.78 31.85 37.24 21.07 64.57-3.58 9.07-10.22 17.66-20.05 22.82 1.77 3.36 2.48 7.01 3.02 9.67.15.7.26 1.36.41 1.95l.1.39.08.41c2.24 13.4-1.22 27.04-9.21 36.49l-.21.28c-4.12 4.88-9.11 8.71-14.58 11.48.36.42.7.88 1.02 1.35l.28.42.24.44c8.3 15.52 6.28 36.75-4.72 49.39l-.19.23c-9.72 11.42-25.35 17.58-40.85 16.2-5.63-.31-11.06-1.82-16.15-4.51-15.78-8.32-24.73-25.48-24-43.04-2.61.58-5.35.55-8.13-.16l-.23-.06c-3.42-.66-7.02-1.99-10.79-3.99a53 53 0 0 1-3.02-1.7 55 55 0 0 1-7.2-4.78c-4.65 7.74-8.13 15.94-5.73 25.95 1.04 4.35 5.89 7.56 6.03 11.34.15 4.88-7.06 12.41-8.17 17.92-1.99 9.81.21 17.97-3.8 28.92-10.72 28.97-52.01 40.35-1.83 65.18ZM597.37 808.86a431 431 0 0 1-27.3 2.16c9.16 8.09 14.99 19.15 15.84 30.41l.03.34c.52 6.58-.37 13.02-2.38 19.02.57.05 1.15.13 1.72.26l.52.1.49.15c16.38 5.09 29.7 20.6 32.05 36.83 27.6-6.16 54.17-13.85 70.13-22.8-3.1-.52-6.28-1.17-9.36-2-2.16 2.08-5.94 4.53-11.82 4.53l-.55-.02c-23.94-.6-46.17-14.56-56.68-35.57-5.53-11.06-7.22-22.85-5.16-34.32-2.48.32-5 .62-7.53.91"/><path d="M730.53 857.31c-.21-1.74-19.62-20.58-17.91-29.01 9.13.88 16.07 4.43 25.92 3.44 25.53-2.61 37.76-29.37 58.61-41.67-29.24-18.15-33-59.51-77.44-44.36 1.87-12.54 11.06-18.54 17.95-26.6s-15.2-10.41-19.61-10.93c-12.76-1.51-25.14-1.22-37.03 4.05l1.72-9.26c-10.1-.31-19.4.84-27.51 3.36-27.17 8.38-41.02 32.08-27.07 68.08l-7.1 1.75c-21.75 2.3-43.66 3.39-65.52 2.6 1.35 6.26 1.48 12.97-.15 19.71 13.53-.13 27.09-1.02 40.55-2.51 2.79-.31 5.56-.63 8.35-1.01 7.17-.92 14.32-2.03 21.42-3.29-23.84 33.52 5.3 72.3 41.34 73.21 7.9.19.37-9.73 4.22-9.31 3.47 4.12 17.32 7.33 30.75 8.34 14.87 1.12 29.24-.49 28.5-6.58ZM362.76 814.56c.88-1.05 1.7-2.12 2.47-3.21-.97 1.15-1.8 2.24-2.47 3.21M500.68 824.29l-.23-.39c-13.19-22.9-43.09-22.07-59.38-2.92-19.37 24.99 2.43 64.19 34.95 58.99 28.4-3.67 38.39-32.49 24.65-55.68ZM608.06 900.34c-1.48-12.73-12.16-25.07-24.86-29.01-3.78-.78-5.21 3.39-7.46 5.71-4.04 5.25-9.73 9.03-16.07 11.68-4.83 2.09-9.76 3.78-15.1 4.46-2.45.39-5.38.73-7.22 2.38-3.96 4.46-3.97 11.08-2.42 17.18.55 2.16 1.3 4.25 2.12 6.16 9.75 23.57 39.78 30.96 56.52 16.02 9.67-7.9 15.54-20.57 14.64-32.73l-.03-.49c-.03-.45-.06-.91-.13-1.36ZM471.03 893.02c-.75-1.1-2.22-1.51-3.57-1.93-9.02-2.56-18.33-3.34-25.36-9.67-4.51-3.68-7.12-7.49-10.72-11.5-1.82-1.96-3.91-3.88-6.68-3.91-6.99.6-13.82 6.55-18.54 11.94-11.03 13.48-9.84 29.83-2.5 42.09.29.49.6.96.91 1.43 15.55 23.37 50 18.89 62.64-2.42 4.12-6.93 5.92-15.63 4.02-25.74l-.19-.29Z"/><path d="M536.91 811.18c3.68-4.05 6.16-8.37 7.61-12.75 2.24-6.76 2.04-13.7.06-20.22-1.44-4.83-3.89-9.42-7.06-13.54-12.71-16.64-37.11-25.51-55.86-10.41-3.39 2.72-6.58 6.24-9.5 10.64-.15.21-.29.44-.44.67l-.24.41c-2.42 4.61-4.93 13.92-5.39 21.34-.21 3.76.08 7.04 1.2 8.97 2.47 2.9 7.15 2.29 10.64 3.13 6.73.96 11.76 4.17 17.32 7.59.02.02.03.02.05.03 2.72 1.74 5.37 3.75 7.64 6.11 7.98 9.05 9.2 15.16 19.95 8.9 5.87-3.29 10.49-6.97 14.01-10.87ZM560.07 816.4c-2.27-1.38-5.4-3.91-8.38-4.93-1.57-.55-3.1-.68-4.46-.03-.62.31-1.22.78-1.75 1.46-4.85 6.47-9.37 12.41-17.5 15.23-3.94 2.24-11.81 2.63-11.11 8.58.5 6.02 1.33 14.3-.28 20.81-3.94 13.22-10.54 12.85 5.04 21.28 26.03 14.87 56.1-8.19 53.86-36.15l-.03-.42c-.75-9.8-6.78-19.59-15.39-25.82ZM464.69 762.36c.21-.66.36-1.35.42-2.06l-.08-.41c-10.62-12.39-23.08-15.33-34.19-12.57-9 2.24-17.14 8.22-22.72 15.96-4.8 6.63-7.72 14.55-7.72 22.51 0 10.75 5.32 21.55 18.52 29.37 12 8.09 14.3-3.6 22.35-9.81 3.62-3.08 9.62-5.11 14.45-7.61.08-.03.15-.06.21-.1 3.28-1.44 2.95-4.91 2.64-8.03-.16-1.56-.29-3.11-.36-4.67-.19-4.17.1-8.3 1.69-12.34 1.02-3.84 3.73-6.84 4.78-10.25ZM423.58 830.22l-.15-.34c-1.18-1.87-3.89-2.24-5.81-3.18-10.19-3.55-14.55-12.62-22.2-19.74-5.63-6.33-21.31 8.82-24.38 14.11-8.94 12.94-7.64 31.43 2.89 42.91 4.77 4.85 11.11 10.88 18.26 11.32 1.39-.21 2.5-1.18 3.44-2.21 3.05-3.49 6.68-7.38 10.44-10.17 4.25-3.44 10.85-5.37 15.91-8.71 2.71-2.21 1.04-7.14.91-11.01-.99-4.56 1.15-8.87.68-12.99ZM493.77 939.21c1.07.37 2.09.71 3.05.94.92.13 2.12.19 3.52.15.13.02.26 0 .37 0 4.07.1 8.39-.57 12.47-1.7 4.2-.99 8.3-2.48 11.29-4.54.02-.02.03-.03.06-.05.15-.1.32-.18.47-.26 1.56-.91 2.61-2.12 3.16-3.52.1-.15.19-.31.28-.47v-.49c.28-1.28.16-2.68-.37-4.15-.02-.08-.05-.15-.06-.23-.65-3.57-1.93-7.28-2.9-10.9-.05-.18-.1-.36-.15-.53-.26-1.18-.5-2.35-.7-3.49-.39-1.93-.5-3.91-.42-5.92.02-.31.03-.63.06-.96.02-.21.05-.42.06-.63.08-.7.18-1.41.28-2.12.06-.41.15-.81.23-1.22.03-.1.05-.19.06-.31.29-1.31.68-2.6.86-3.73.02-.02.02-.05.02-.06.18-.91.26-1.8-.06-2.5l-.15-.29c-.06-.05-.15-.08-.19-.13l-.02-.02-.06-.06c-.84-.99-2.04-1.48-3.26-1.91-.08-.03-.18-.05-.24-.1-.11-.03-.23-.08-.34-.11-1.83-.76-3.8-1.4-5.66-2.19-1.15-.53-2.25-1.14-3.31-1.9-2.85-1.98-5.79-6.18-8.3-6.33-.06.02-.15.02-.19.03-.02 0-.05.02-.08.02-.39-.02-.8.02-1.22.15-.34.16-.73.32-1.15.52-.06.02-.13.03-.19.06-2.4.86-5.21 2.25-7.93 3.68-.08.03-.18.1-.28.15-2.58 1.27-5.16 2.63-7.23 3.93-.03.02-.08.05-.11.06-.05.03-.1.05-.15.08-.29.15-.6.29-.86.44-.21.16-.42.37-.58.55v.02c-.11.08-.24.16-.34.24-.11.18-.16.37-.26.55-.05.08-.11.15-.16.23 0 .03-.02.05-.02.1-.67 1.22-.91 2.69-.94 4.27-.02.32-.02.63-.02.94 0 .15.02.29.02.45 0 1.85.15 3.75.16 5.56-.02.45-.03.91-.1 1.33 0 .24.02.47.03.71-.02.13-.02.29-.03.42.03.83.02 1.61-.02 2.38-.02.15-.02.31-.02.47-.02.06-.02.13-.03.21-.32 3.92-1.41 7.56-2.77 11.22-.1.29-.21.58-.32.88-.39.99-.79 2.01-1.22 3.05-.15.34-.28.68-.42 1.02-.05.13-.1.29-.15.42-.11.28-.21.55-.29.81-.02.05-.03.11-.05.16 0 .02 0 .03-.02.05-.03.08-.06.16-.08.28-.58 1.77-.84 3.57.71 4.88.28.21.55.42.89.67.29.19.62.44.92.65.06.05.11.1.18.13.29.21.55.41.88.63 3.75 2.56 8.77 5.56 13.23 7.27.06.02.11.05.16.06M96.83 644.7c2.34 4.99 6 9.54 11.11 13.19 22.06 16.77 48.54 3.7 54.85-21.62l.11-.44c6.49-24.75-14.69-44.52-38.96-42.38-10.8 1.44-19.24 7.69-24.44 15.96v.02c-6.54 10.36-8 23.94-2.68 35.26v.02ZM151.61 775.68c12.03 1.12 24.68-3.62 32.36-12.6l.31-.36c8.4-9.67 9.72-26.18 3.42-37.94-2.08-3.1-5.89-1.2-9.02-1.14-6.36.88-12.86-.39-19.04-2.89-4.75-1.85-9.29-4.04-13.43-7.19-1.95-1.39-4.22-3.16-6.6-3.28-7.78.52-13.3 8.69-16.07 15.91-9.29 22.87 6.37 48.4 28.07 49.47ZM95.37 664.07c.06-.08.11-.18.18-.26l.08-.32c.08-.49.03-.97-.11-1.46V662c-.21-.76-.65-1.54-1.04-2.27-4.49-7.9-10.36-14.76-10.93-23.91-.58-5.6.19-10.01.44-15.23.08-2.58-.06-5.32-1.96-7.22-5.21-4.35-13.96-4.88-20.87-4.38-16.77 1.78-27.07 13.85-30.34 27.31-8.66 36.12 41.49 61.57 64.57 27.77Z"/><path d="m182.77 576.08-.45.13c-7.22 2.29-21.86 11.82-23.48 18.03-.28 3.68 3.37 6.44 5.19 9.39 4.01 5.25 5.29 10.87 6.8 17.01.7 3.07 1.15 6.28 1.12 9.47-.65 11.66-3.97 16.71 7.7 19.69 66.53 18.18 64.32-87.4 3.13-73.73ZM201.89 699.78l.26-.31c6.15-7.25 8.64-18.12 6.94-28.25-1.1-4.44-1.62-13.12-7.67-12.36-7.75 1.17-14.9 2.19-22.43-1.41-4.23-1.12-9.93-6.2-13.48-1.62-3.76 4.48-8.81 10.75-14.35 14.16-11.69 6.44-16.01 1.67-10.98 18.1 7.82 27.94 44.24 32.49 61.71 11.69M112.62 574.38c2.77 13.74 12.31 7.23 22.07 8.43 4.67.34 10.28 3.08 15.36 4.65 3.24 1.25 5.37-1.38 7.28-3.75 3.52-4.36 7.2-8.48 12.49-10.82 3.96-2.35 8.77-2.21 11.95-4.95l.21-.32c3.78-54.25-83.3-46.04-69.37 6.75ZM102 552.74c.26-5.01-7.54-7.04-14.95-7.51-4.69-.28-9.23.06-11.45.66-7.38 1.41-13.96 5.43-18.78 10.96h-.02c-4.96 5.68-8.11 12.94-8.38 20.58 0 6.58.26 15.05 4.9 20.22 1.1.79 2.53.88 3.86.83 4.49-.34 9.63-.55 14.13.08 5.25.52 11.13 3.68 16.9 4.82 3.36.32 5.55-4.22 8.11-6.97 1.18-1.88 2.84-3.2 4.53-4.41v-.02c1.74-1.28 3.5-2.47 4.77-4.07l.13-.34c.45-2.08-1.17-4.18-1.85-6.13-.88-1.78-1.46-3.55-1.87-5.34v-.02c-1.65-7.57.36-15.16-.02-23.35ZM94.75 679.73c-.18.16-.34.34-.52.5l-.34.31c-.05.05-.11.08-.16.13-3.11 2.68-6.62 4.51-10.36 6.23-.96.42-1.91.84-2.92 1.28-.32.15-.65.28-.97.42-.13.05-.26.13-.39.18-.26.13-.52.24-.76.37-.05.02-.08.05-.13.08-.02 0-.03 0-.05.02-.08.03-.16.06-.26.13-1.59.83-3 1.88-2.82 3.86.05.34.1.66.18 1.05.05.34.13.73.18 1.09.02.06.03.15.05.21.05.34.1.66.18 1.02.83 4.33 2.25 9.81 4.17 14.01.03.05.05.11.08.16.47.97.96 1.91 1.44 2.71.57.73 1.35 1.59 2.34 2.5.08.1.18.18.26.26.91.94 1.88 1.83 2.92 2.69 2.09 1.72 4.43 3.28 6.83 4.61 3.57 2.17 7.43 3.94 10.88 4.54.03.02.05.02.06.02.18.05.34.1.52.15 1.69.42 3.23.31 4.56-.28.18-.03.34-.08.5-.15l.26-.24s.05-.06.08-.08c1.05-.7 1.95-1.74 2.56-3.11.05-.08.08-.15.11-.21 2.08-3.05 3.78-6.67 5.68-9.96.62-.99 1.25-1.96 1.9-2.89 1.04-1.59 2.3-3.02 3.73-4.35l.68-.62c.16-.15.32-.26.49-.39.53-.44 1.07-.86 1.64-1.28.31-.24.65-.47.97-.68.1-.06.18-.11.26-.16 1.1-.71 2.24-1.35 3.13-1.99.02 0 .03-.03.05-.05.75-.49 1.41-1.05 1.66-1.75l.1-.31c-.02-.08-.03-.15-.05-.23v-.11c.1-1.25-.41-2.38-.94-3.52-.03-.08-.08-.16-.11-.24-.05-.1-.1-.19-.15-.31-.75-1.77-1.66-3.54-2.42-5.37-.42-1.14-.78-2.32-.99-3.55-.62-3.29.21-8.19-1.43-10.01-.05-.02-.1-.08-.15-.1-.02-.02-.05-.03-.06-.05-.26-.28-.57-.52-.96-.73-.32-.13-.71-.28-1.14-.42-.05-.03-.11-.06-.16-.1-2.25-1.02-5.14-2-7.98-2.84-.1-.05-.19-.06-.29-.1-2.64-.88-5.35-1.7-7.66-2.21-.03-.02-.08-.03-.13-.05-.05 0-.1-.02-.15-.02-.31-.11-.62-.23-.91-.31-.24-.02-.54-.03-.76 0h-.02c-.13-.02-.28-.05-.41-.06-.18.05-.36.15-.55.21-.08.02-.18.02-.26.03-.03.03-.05.03-.08.06-1.28.39-2.45 1.25-3.55 2.3-.23.21-.44.44-.65.63-.1.11-.19.23-.29.32-1.25 1.28-2.45 2.69-3.67 3.94-.32.32-.65.62-.97.86-.16.18-.32.34-.47.5-.1.1-.19.19-.31.28-.36.39-.73.78-1.1 1.12v.02Z"/><path d="M0 522.05c15.79 3.58 23.59 20.84 41.24 7.84 1.03 5.68-2.2 9.6-4.1 14.09-1.9 4.45 8.35 2.26 10.39 1.84 3.72-.75 7.26-1.78 10.49-3.44.04-.02.06-.04.08-.04 1.17-.59 2.3-1.27 3.4-2.04.69-.4 1.37-.75 2.1-1.07 3.09-1.48 6.37-2.59 9.76-3.28 1.46-.32 3.36-.63 5.54-.81 8.37-7.62 9.54-18.74-.89-30.93l12.66-7.72c-.08 4.77 1.23 9.87 2.16 14.52 1.17 5.84 2.37 11.83 4.39 17.45.3.83.67 2.37 1.39 2.97.36.28.26.26.79.04.83-.34 1.64-1.09 2.41-1.58 1.25-.83 2.53-1.7 3.82-2.49.4-.24.79-.49 1.19-.71.47-.26 3.54-1.39 3.54-2.06.24-.57-2.39-9.93-2.71-12.6-.18-1.74-.36-3.52-.49-5.36-.59-7.99-.51-16.64-.26-24.28.14-4.31 1.68-14.8 2.73-23.51 0-.04.02-.1.02-.14.34.06.69.12 1.01.2.02 0 .06 0 .08.02 108.5 19.53 144.29 157.95 230.57 250.77 4.87 14.98 10.01 30.81 8.9 33.38-1.88 4.27-8.07 10.13-11.46 13.61 1.48-25.13-26.85-33.94-45.29-21.73-3.94 2.63 3.13 4.73 1.09 5.82-6.55-1.54-34.47 14.6-29.82 19.59.71.75 16.68 2.95 18.72 7.52-4.81 2.73-9.44 3.42-13.93 7.28-11.73 10.01-8.63 26.87-14.76 39.83 20.64-1.52 36.57 16.7 53.33-5.74 3.34 6.55.87 12.55.22 18.72-.67 6.17 11.02-.32 13.36-1.58 6.81-3.7 12.82-8.09 16.9-14.68l2.3 4.95c22.1-14.47 27.45-36.65 2.57-52.44l12.59-14.17c1.78 6.29 19.59 39.58 23.41 40.07.87-3.98 11-11.77 11.12-13 .06-.79-6.61-11.24-7.99-14.37-2.93-6.75-5.62-14.41-7.92-21.98 7.7 6.11 15.79 11.85 24.34 17.12 5.09-7.38 12.07-13.5 20.08-17.41-20.03-12.37-38.19-27.64-54.14-45-5.34-5.82-10.53-11.99-15.63-18.52-1.11-1.39-2.18-2.85-3.28-4.31-5.42-6.91-10.57-14.03-15.59-21.27-16.56-23.88-31.23-48.98-46.17-73.91 2.89-4.08 8.98-8.79 12.49-11.73-4.23 26.65 24.2 39.81 44.66 29.19 4.39-2.28-2.75-5.46-.51-6.39 6.63 2.55 37.34-11.04 33.05-16.98-.65-.89-17-5.36-18.62-10.49 5.28-2.28 10.17-2.45 15.26-5.98 13.22-9.14 11.83-27.56 19.55-40.59-21.53-1.11-36.13-22.68-55.92-.91-2.79-7.46.44-13.52 1.78-20.03 1.35-6.51-11.48-1.11-14.05-.06-7.46 3.05-14.17 6.93-19.1 13.44l-1.86-5.62c-24.5 12.57-32.43 35.56-8.33 55.76l-13.32 12.27c-9.4-15.57-19.02-30.99-29.39-45.95-13.32-19.17-28.34-37.72-45.69-53.55-13.36-12.19-28.51-22.44-44.86-30.2-1.23-.59-2.47-1.15-3.7-1.7-8.75-3.9-17.79-6.55-26.87-9.54-12.05-3.98-24.26-4.91-31.19-14.45-3.66-4.59-5.88-10.61-5.88-17.2 0-12.64 5.8-19.12 11.85-22.48l3.82-52.77c-9.78 7.78-20.54 15.28-29.13 24.6-.02.02-.04.02-.04.02a75 75 0 0 0-5.84 7.1c-29.35 40.74-17.08 72.64.55 90.08 4.81 4.79 10.01 8.47 14.88 10.98.22 13.75 1.68 33.66.02 35.62-2.39 2.75-8.35 5.74-11.69 7.54 6.83-18.46-12.35-31.52-28.97-26.56-3.56 1.05 1.27 4.23-.51 4.61-4.57-2.67-29.15 3.05-26.81 7.86.34.73 11.83 6 12.31 9.89-4.23.95-7.86.44-12.11 2.3C9.03 500.4 7.5 513.72-.03 522.05Z"/><path d="M137.15 44.1c-.89 5.72 1.72 9.28 1.42 14.09-5.42 82-22.8 330.16-23.33 337.64-.65 9.02 5.26 17.22 14.03 19.41 31.03 7.72 59.58 23.01 83.76 45.08 16.36 14.94 31.9 33.18 47.61 55.74 1.78 2.61 3.56 5.18 5.3 7.78 2.79-13.59 13.26-25.84 29.17-34 1.86-.95 3.88-1.44 5.92-1.44.87 0 1.72.08 2.57.26 4.81-3.34 9.64-5.56 13.5-7.14l.16-.06c4.53-1.86 10.41-3.98 15.81-3.98 7.04 0 10.98 3.54 12.72 5.68 1.88 2.3 2.97 5.07 3.28 8.03 1.19-.14 2.43-.2 3.68-.2 8.39 0 15.87 3.13 22.46 5.9 5.46 2.28 10.61 4.45 15.65 4.71 6 .32 11.2 4.71 12.19 11.1.46 3.05-.36 6.13-1.88 8.81-1.98 3.5-3.28 8.13-4.67 13.02-2.47 8.77-5.44 19.37-13.79 27.45.63.59 1.23 1.27 1.8 2.06 3.42 4.73 3.8 10.78 1.05 16.17-4.45 8.67-19.47 16.27-31.36 19.71-1.17 2.24-3.23 4.73-6.77 6.57a46.4 46.4 0 0 1-21.23 5.16c-2.18 0-4.35-.16-6.45-.44 6.89 11.14 13.99 22.18 21.37 32.83 5.16 7.48 10.09 14.21 15.14 20.68.04.08.97 1.31.97 1.31.77.99 1.54 2.02 2.3 3.01 4.87 6.23 9.91 12.19 14.96 17.73 18.62 20.26 39.58 36.73 62.45 49.13 12.19-.47 23.94 4.53 33.56 14.45 5.82-5.96 12.57-10.23 19.95-12.47 19.57-5.9 47.17 3.15 60.18 27.7 6.27.32 12.68.49 19.17.49 13.38 0 27.09-.65 41.69-1.98-4.91-22.46.95-37.93 7.48-47.47 7.62-11.1 19.31-19 34-23.17-.08-2.83.16-5.76.79-8.81 5.72-27.56 84.14-75.29 103.83-107.73 23.21-38.23 18.01-102.05 15.65-145.68-3.13-58.37-9.36-118.31-18.03-176.07-3.54-23.61-10.43-77.17-18.56-96.96-3.86-9.3-9.68-14.64-18.9-18.19-28.3-11.14-87.32-1.25-107.86-20.86-29.56-28.22 16.09-74.7-31.84-96.9C524.6-2.5 376.41-1.13 314.69 1.16c-35.2 1.29-142.73 5.64-167.31 26.79-4.89 4.23-9.22 9.44-10.23 16.15m496.03 159.75c14.41-1.58 32.37 4.81 40.7 17.04 9.72 14.41 16.5 78.48 18.66 99.08 4.08 39.18 7.64 84.95 8.81 124.23 1.27 43.16 3.62 77.73-32.77 106.93-44.86 36.09-36.85-26.89-39.3-54.5-5.56-62.47-10.23-125.08-15.28-187.55-2-24.93-8.35-54.16-8.47-78.78-.08-14.19 14.56-25.07 27.66-26.44Zm-459.4 40.63c1.27-2.55-.08-5.8 2.35-9.4 2.45-1.9 4.93-3.8 7.4-5.68 35.8-27.33 72.13-55.62 73.57-58.71 2.71-5.92-1.05-16.86 7.18-25.39 8.23-8.51 19.81-10.71 24.12-17.26 4.27-6.53 12.51-25.74 17.91-26.89 4.83-.97 14.6 13.52 21.65 21.87q1.305 1.515 2.43 2.73c6.73 6.99 13.06-8.65 15.02-19.95.12-.61.22-1.19.3-1.78 1.58-11.3 13.61-30.2 14.17-37.76.53-7.58 2.69-16.56 8.71-15.36 6 1.19 16.42 25.55 22.97 29.84 6.55 4.27 6.19 8.81 15.57 5.7 9.36-3.13 10.49-8.39 12.68-6.71 2.14 1.7 50.97 42.56 57.21 50.62 6.27 8.05 15.67 25.49 20.56 31.19 4.91 5.68 10.17 6.81 11.89 14.58.93 4.21 5.26 8.67 10.53 12.8 4.08 3.28 8.75 6.35 12.88 8.94 8.11 10.96 23.45 20.01 23.45 27.15 0 5.58 7.64 108 11.69 161.25.2 2.79-3.82 3.38-4.43.67-8.05-35.56-21.03-90.06-26.79-97.99-8.69-11.93-70.43-53.11-75.85-58.53-5.42-5.4 2.14 5.42 0 13.04-2.18 7.58-9.74 14.09-5.42 20.58 4.33 6.47 18.42 11.91 11.91 21.65-6.49 9.76-21.65 23.84-28.16 30.37-6.51 6.49-15.16 11.91-20.58 20.56-5.42 8.67-13.02 10.84-23.84 14.09-10.84 3.26-33.6 3.26-43.36 3.26s-65.02 40.09-75.85 50.93c-10.82 10.84-13 15.18-14.07 34.67-1.09 19.51-19.51-10.82-18.42-21.65 1.05-10.86-5.44-20.6 1.05-30.35 6.55-9.74 8.69-17.33 14.11-23.84s-36.85 0-43.36 6.51c-6.47 6.49-28.16 35.76-35.76 35.76-6.09 0-12.94-4.97-15.36-6.87-.55-.46-.87-1.15-.81-1.88.81-13.71 8.69-148.59 10.78-152.74Z"/></g></svg>';function loadOpenHours(){var e=document.getElementById("open-hours");if(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL?SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL:null,a="content/timeslots.csv";(n?r(n):Promise.resolve(!1)).then(function(e){if(!e)return r(a)}).catch(function(){return r(a).catch(function(){})})}function r(n){return fetch(n).then(function(e){return e.text()}).then(function(n){return function(n){var a=n.trim().split("\n");if(a.length<2)return!1;for(var r=a[0].split(","),i=[],o=1;o<a.length;o++){var s=a[o].split(",");if(!(s.length<3)){for(var c={},l=0;l<r.length;l++)c[r[l].trim()]=s[l].trim();i.push(c)}}var d=new Date;if(d.setHours(0,0,0,0),0===(i=i.filter(function(e){return new Date(e.date+"T00:00:00")>=d})).length)return!1;var u={};function m(e){var t=Math.floor(e/60),n=e%60;return(t>12?t-12:0===t?12:t)+":"+(n<10?"0"+n:""+n)+" "+(t>=12?"PM":"AM")}i.forEach(function(e){var t=new Date(e.date+"T00:00:00").getDay(),n=e.time.match(/(\d+):(\d+)\s*(AM|PM)/i);if(n){var a=parseInt(n[1],10),r=parseInt(n[2],10),i=n[3].toUpperCase();"PM"===i&&12!==a&&(a+=12),"AM"===i&&12===a&&(a=0);var o=60*a+r;u[t]||(u[t]={min:o,max:o}),o<u[t].min&&(u[t].min=o),o>u[t].max&&(u[t].max=o)}});for(var p='<h2>Open Hours</h2><ul class="open-hours-list">',v=0;v<7;v++){var f=u[v];p+='<li class="open-hours-row'+(f?"":" closed")+'">',p+='<span class="open-hours-day">'+t[v]+"</span>",p+=f?'<span class="open-hours-time">'+m(f.min)+" &ndash; "+m(f.max+30)+"</span>":'<span class="open-hours-time">Closed</span>',p+="</li>"}return p+="</ul>",e.innerHTML=p,!0}(n)})}}function loadFAQ(){var e=document.getElementById("faq-list");if(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL?SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL:null;t&&fetch(t).then(function(e){return e.text()}).then(function(t){var n=t.trim().split("\n");if(!(n.length<2)){for(var a=[],r=1;r<n.length;r++){var i=n[r].match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g)||[];"faq"===((i=i.map(function(e){return e.replace(/^"|"$/g,"").replace(/""/g,'"').trim()}))[0]||"").toLowerCase()&&a.push({question:i[2]||"",answer:i[3]||""})}if(0!==a.length){var o="";a.forEach(function(e){o+='<div class="faq-item">',o+='<button type="button" class="faq-question">'+escapeHTML(e.question)+"</button>",o+='<div class="faq-answer"><p>'+escapeHTML(e.answer)+"</p></div>",o+="</div>"}),e.innerHTML=o,e.querySelectorAll(".faq-question").forEach(function(e){e.addEventListener("click",function(){this.parentElement.classList.toggle("open")})})}}}).catch(function(e){console.error("[FAQ] Error loading:",e)})}}function loadFooterHours(){var e=document.getElementById("footer-hours");if(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL?SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL:null,a="content/timeslots.csv";(n?r(n):Promise.resolve(!1)).then(function(e){if(!e)return r(a)}).catch(function(){return r(a).catch(function(){})})}function r(n){return fetch(n).then(function(e){return e.text()}).then(function(n){return function(n){var a=n.trim().split("\n");if(a.length<2)return!1;for(var r=a[0].split(","),i=[],o=1;o<a.length;o++){var s=a[o].split(",");if(!(s.length<3)){for(var c={},l=0;l<r.length;l++)c[r[l].trim()]=s[l].trim();i.push(c)}}var d=new Date;if(d.setHours(0,0,0,0),0===(i=i.filter(function(e){return new Date(e.date+"T00:00:00")>=d})).length)return!1;var u={};function m(e){var t=Math.floor(e/60),n=e%60;return(t>12?t-12:0===t?12:t)+(n>0?":"+(n<10?"0"+n:n):"")+(t>=12?"PM":"AM")}i.forEach(function(e){var t=new Date(e.date+"T00:00:00").getDay(),n=e.time.match(/(\d+):(\d+)\s*(AM|PM)/i);if(n){var a=parseInt(n[1],10),r=parseInt(n[2],10),i=n[3].toUpperCase();"PM"===i&&12!==a&&(a+=12),"AM"===i&&12===a&&(a=0);var o=60*a+r;u[t]||(u[t]={min:o,max:o}),o<u[t].min&&(u[t].min=o),o>u[t].max&&(u[t].max=o)}});for(var p="",v=0;v<7;v++){var f=u[v];p+='<span class="footer-hours-day'+(f?"":" closed")+'">',p+='<span class="footer-hours-abbr">'+t[v]+"</span> ",p+=f?m(f.min)+"–"+m(f.max+30):"Closed",p+="</span>"}return e.innerHTML=p,!0}(n)})}}function loadSocialLinks(){var e=document.querySelector(".footer-social");if(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL?SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL:null;t&&fetch(t).then(function(e){return e.ok?e.text():""}).then(function(t){if(t.trim()){for(var a=t.trim().split("\n"),r={},i=1;i<a.length;i++){var o=n(a[i]);if("social"===(o[0]||"").toLowerCase().trim()){var s=(o[2]||"").toLowerCase().trim(),c=(o[4]||"").trim();s&&c&&(r[s]=c)}}if(Object.keys(r).length>0){var l=e.querySelector('a[aria-label*="Instagram"]'),d=e.querySelector('a[aria-label*="Facebook"]');l&&r.instagram&&(l.href=r.instagram),d&&r.facebook&&(d.href=r.facebook)}}}).catch(function(){})}function n(e){for(var t=[],n="",a=!1,r=0;r<e.length;r++){var i=e[r];'"'===i?a=!a:","!==i||a?n+=i:(t.push(n),n="")}return t.push(n),t}}function getTintClass(e){if(e.tint)return"tint-"+e.tint.toLowerCase().replace(/\s+/g,"");if(!e.subcategory)return"";return{red:"tint-red",white:"tint-white",rose:"tint-rose",ros:"tint-rose",fruit:"tint-fruit",specialty:"tint-specialty",pilsner:"tint-pilsner",amber:"tint-amber",wheat:"tint-wheat",ipa:"tint-ipa",pale:"tint-pale",session:"tint-session",saison:"tint-saison",lager:"tint-lager",stout:"tint-stout",porter:"tint-porter",redale:"tint-redale",brown:"tint-brown"}[e.subcategory.toLowerCase().replace(/[^a-z]/g,"")]||""}function buildLabelNotesToggle(e){var t=document.createElement("div");t.className="notes-wrap";var n=document.createElement("button");n.type="button",n.className="notes-toggle",n.innerHTML='Tasting Notes <span class="chevron">&#9660;</span>';var a,r,i=document.createElement("div");if(i.className="notes-body",e.sku){var o=document.createElement("div");o.className="notes-image";var s=document.createElement("img");s.src="images/products/"+e.sku+".png",s.alt=e.name||"Product image",s.loading="lazy",s.onerror=function(){this.parentElement.remove()},o.appendChild(s),i.appendChild(o)}if(e.tasting_notes){var c=document.createElement("div");c.className="notes-text";var l=document.createElement("p");l.textContent=e.tasting_notes,c.appendChild(l),i.appendChild(c)}return n.addEventListener("click",(a=t,r=e,function(){a.classList.toggle("open")&&trackEvent("detail",r.sku||"",r.name||"")})),t.appendChild(n),t.appendChild(i),t}function buildLabelPriceFooter(e){var t=parseFloat(e.discount)||0,n="TRUE"===(e.pricing_from||"").trim().toUpperCase()?"+":"",a=(e.retail_instore||"").trim(),r=(e.retail_kit||"").trim(),i=document.createElement("div");if(i.className="price-footer",a){var o=document.createElement("div");o.className="price-col";var s=document.createElement("div");s.className="price-label",s.textContent="Ferment in store",o.appendChild(s);var c=document.createElement("div");if(c.className="price-value",t>0){var l=(parseFloat(a.replace(/[^0-9.]/g,""))*(1-t/100)).toFixed(2);c.innerHTML='<s style="color:#999;font-size:0.8rem;">'+a+"</s> $"+l+n}else c.textContent=a+n;o.appendChild(c),i.appendChild(o)}if(r){var d=document.createElement("div");d.className="price-col";var u=document.createElement("div");u.className="price-label",u.textContent="Kit only",d.appendChild(u);var m=document.createElement("div");if(m.className="price-value",t>0){var p=(parseFloat(r.replace(/[^0-9.]/g,""))*(1-t/100)).toFixed(2);m.innerHTML='<s style="color:#999;font-size:0.8rem;">'+r+"</s> $"+p+n}else m.textContent=r+n;d.appendChild(m),i.appendChild(d)}return i}function loadFeaturedProducts(){var e=document.getElementById("promo-section"),t=document.getElementById("promo-news-content"),n=document.getElementById("promo-featured-note"),a=document.getElementById("promo-featured-products");if(e){if(a){var r=document.createElement("div");r.className="promo-loading-skeleton",r.appendChild(createSkeletonCard()),a.innerHTML="",a.appendChild(r)}var i,o,s="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_CSV_URL?SHEETS_CONFIG.PUBLISHED_CSV_URL:null,c="content/products.csv",l="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL?SHEETS_CONFIG.PUBLISHED_HOMEPAGE_CSV_URL:null,d="sv-products-csv",u="sv-products-csv-ts",m="sv-homepage-csv",p="sv-homepage-csv-ts",v=h(d,u),f=h(m,p);if(f?(i=Promise.resolve(f.data),!f.fresh&&l&&fetch(l).then(function(e){return e.ok?e.text():""}).then(function(e){e&&g(m,p,e)})):i=l?fetch(l).then(function(e){return e.ok?e.text():""}).then(function(e){return e&&g(m,p,e),e}):fetch("content/home.json").then(function(e){return e.ok?e.json():{}}).then(function(e){return{isJson:!0,data:e}}),v){if(o=Promise.resolve(v.data),!v.fresh)fetch(s||c).then(function(e){return e.ok?e.text():""}).then(function(e){e&&g(d,u,e)})}else(o=s?fetch(s).then(function(e){return e.ok?e.text():""}).catch(function(){return fetch(c).then(function(e){return e.text()})}):fetch(c).then(function(e){return e.text()})).then(function(e){e&&g(d,u,e)});Promise.all([i,o]).then(function(r){var i,o,s=r[0],c=r[1],l={"promo-news":[],"promo-featured-note":"","promo-featured-skus":[]};if(s&&s.isJson)l=s.data;else if("string"==typeof s&&s.trim()){var d=s.trim().split("\n");if(d.length>1)for(var u=1;u<d.length;u++){var m=E(d[u]),p=(m[0]||"").toLowerCase().trim();if("news"===p)l["promo-news"].push({date:(m[1]||"").trim(),title:(m[2]||"").trim(),text:(m[3]||"").trim()});else if("note"===p)l["promo-featured-note"]=(m[3]||"").trim();else if("featured"===p){var v=(m[4]||"").trim();v&&l["promo-featured-skus"].push(v)}}}t&&l["promo-news"]&&l["promo-news"].length>0&&(i=l["promo-news"],o="",i.forEach(function(e){o+='<div class="promo-news-item">',o+='<span class="promo-news-date">'+C(e.date||"")+"</span>",o+="<h3>"+C(e.title||"")+"</h3>",o+="<p>"+C(e.text||"")+"</p>",o+="</div>"}),t.innerHTML=o),n&&l["promo-featured-note"]&&(n.innerHTML="<p>"+C(l["promo-featured-note"])+"</p>");var f=l["promo-featured-skus"]||[],h=c?function(e){var t=e.trim().split("\n");if(t.length<2)return[];for(var n=t[0].split(",").map(function(e){return e.trim().toLowerCase().replace(/\s+/g,"_")}),a=[],r=1;r<t.length;r++){var i=b(t[r]);if(!(i.length<2)){for(var o={},s=0;s<n.length;s++)o[n[s]]=(i[s]||"").trim();a.push(o)}}return a}(c):[];!function(t,n){var r=[];n&&n.length>0&&n.forEach(function(e){var n=t.find(function(t){return t.sku===e});n&&r.push(n)});0===r.length&&(r=t.filter(function(e){return"TRUE"===(e.featured||"").trim().toUpperCase()||"TRUE"===(e.favorite||"").trim().toUpperCase()}));0===r.length&&(r=t.filter(function(e){return parseFloat(e.discount)>0}).slice(0,3));0===r.length&&(r=t.slice(0,3));if(0===r.length)return void(e.style.display="none");a.innerHTML="";var i=0,o=!1;if(r.forEach(function(e,t){var n=function(e){var t,n=(e.type||"").toLowerCase();t=-1!==n.indexOf("wine")?function(e){var t=getTintClass(e),n=document.createElement("div");n.className="label-wine"+(t?" "+t:""),e.sku&&n.setAttribute("data-sku",e.sku);var a=parseFloat(e.discount)||0;if(a>0){var r=document.createElement("span");r.className="discount-badge",r.textContent=Math.round(a)+"% OFF",n.appendChild(r)}var i=document.createElement("div");i.className="label-body";var o=document.createElement("div");o.className="brand",o.textContent=e.brand||"",i.appendChild(o);var s=document.createElement("div");s.className="ornament",i.appendChild(s);var c=document.createElement("div");if(c.className="wine-name",c.textContent=e.name||"",i.appendChild(c),e.subcategory){var l=document.createElement("div");l.className="subcategory",l.textContent=e.subcategory,i.appendChild(l)}if(e.time){var d=document.createElement("div");d.className="time",d.textContent=e.time,i.appendChild(d)}if(e.abv){var u=document.createElement("div");u.className="abv",u.textContent=e.abv+(-1===e.abv.toLowerCase().indexOf("abv")?" ABV":""),i.appendChild(u)}(e.tasting_notes||e.sku)&&i.appendChild(buildLabelNotesToggle(e));var m=document.createElement("div");m.className="notes-spacer",i.appendChild(m),n.appendChild(i);var p=(e.retail_instore||"").trim(),v=(e.retail_kit||"").trim();(p||v)&&n.appendChild(buildLabelPriceFooter(e));var f=document.createElement("div");f.className="reserve-link";var h=e.name+"|"+e.brand;return y(f,e,h),n.appendChild(f),n}(e):-1!==n.indexOf("beer")?function(e){var t=getTintClass(e),n=document.createElement("div");n.className="label-beer"+(t?" "+t:""),e.sku&&n.setAttribute("data-sku",e.sku);var a=parseFloat(e.discount)||0;if(a>0){var r=document.createElement("span");r.className="discount-badge",r.textContent=Math.round(a)+"% OFF",n.appendChild(r)}var i=document.createElement("div");i.className="label-body";var o=document.createElement("div");o.className="sv-logo",o.innerHTML=SV_LOGO_SVG,i.appendChild(o);var s=document.createElement("div");s.className="brand",s.textContent=e.brand||"",i.appendChild(s);var c=document.createElement("div");c.className="gold-rule",i.appendChild(c);var l=document.createElement("div");if(l.className="beer-name",l.textContent=e.name||"",i.appendChild(l),e.subcategory){var d=document.createElement("div");d.className="subcategory",d.textContent=e.subcategory,i.appendChild(d)}if(e.time){var u=document.createElement("div");u.className="time",u.textContent=e.time,i.appendChild(u)}if(e.abv){var m=document.createElement("div");m.className="abv",m.textContent=e.abv+(-1===e.abv.toLowerCase().indexOf("abv")?" ABV":""),i.appendChild(m)}(e.tasting_notes||e.sku)&&i.appendChild(buildLabelNotesToggle(e));var p=document.createElement("div");p.className="notes-spacer",i.appendChild(p),n.appendChild(i);var v=(e.retail_instore||"").trim(),f=(e.retail_kit||"").trim();(v||f)&&n.appendChild(buildLabelPriceFooter(e));var h=document.createElement("div");h.className="reserve-link";var g=e.name+"|"+e.brand;return y(h,e,g),n.appendChild(h),n}(e):function(e){var t=document.createElement("div");t.className="product-card",e.sku&&t.setAttribute("data-sku",e.sku);var n=document.createElement("div");n.className="product-card-header";var a=document.createElement("p");a.className="product-brand",a.textContent=e.brand||"",n.appendChild(a);var r=document.createElement("h4");r.textContent=e.name||"",n.appendChild(r),t.appendChild(n);var i=(e.batch_size_liters||"").trim();if(e.subcategory||e.time||i){var o=document.createElement("div");o.className="product-detail-row";var s=[];e.subcategory&&s.push(e.subcategory),e.time&&s.push(e.time),i&&s.push(i+"L");for(var c=0;c<s.length;c++){if(c>0){var l=document.createElement("span");l.className="detail-sep",l.textContent="·",o.appendChild(l)}var d=document.createElement("span");d.textContent=s[c],o.appendChild(d)}t.appendChild(o)}if(e.tasting_notes){var u=document.createElement("div");u.className="product-notes";var m=document.createElement("button");m.type="button",m.className="product-notes-toggle",m.setAttribute("aria-expanded","false"),m.innerHTML='More Information <span class="product-notes-chevron">&#9660;</span>';var p=document.createElement("div");if(p.className="product-notes-body",e.sku){var v=document.createElement("div");v.className="product-notes-image";var f=document.createElement("img");f.src="images/products/"+e.sku+".png",f.alt=e.name||"Product image",f.loading="lazy",f.onerror=function(){this.parentElement.remove()},v.appendChild(f),p.appendChild(v)}var h=document.createElement("div");h.className="product-notes-text";var g=document.createElement("p");g.textContent=e.tasting_notes,h.appendChild(g),p.appendChild(h),m.addEventListener("click",(E=u,C=m,function(){var e=E.classList.toggle("open");C.setAttribute("aria-expanded",e?"true":"false")})),u.appendChild(m),u.appendChild(p),t.appendChild(u)}var E,C;var b=parseFloat(e.discount)||0;if(b>0){var S=document.createElement("span");S.className="product-discount-badge",S.textContent=Math.round(b)+"% OFF",t.appendChild(S)}var L="TRUE"===(e.pricing_from||"").trim().toUpperCase(),N=L?"+":"",I=(e.retail_instore||"").trim(),_=(e.retail_kit||"").trim();if(I||_){var x=document.createElement("div");if(x.className="product-prices",I){var k=document.createElement("div");if(k.className="product-price-box",b>0){var F=(parseFloat(I.replace(/[^0-9.]/g,""))*(1-b/100)).toFixed(2);k.innerHTML='<span class="product-price-label">Ferment in store</span><span class="product-price-original">'+I+'</span><span class="product-price-value">$'+F+N+"</span>"}else k.innerHTML='<span class="product-price-label">Ferment in store</span><span class="product-price-value">'+I+N+"</span>";x.appendChild(k)}if(_){var T=document.createElement("div");if(T.className="product-price-box",b>0){var O=(parseFloat(_.replace(/[^0-9.]/g,""))*(1-b/100)).toFixed(2);T.innerHTML='<span class="product-price-label">Kit only</span><span class="product-price-original">'+_+'</span><span class="product-price-value">$'+O+N+"</span>"}else T.innerHTML='<span class="product-price-label">Kit only</span><span class="product-price-value">'+_+N+"</span>";x.appendChild(T)}t.appendChild(x)}var w=document.createElement("div");w.className="product-reserve-wrap";var R=e.name+"|"+e.brand;return y(w,e,R),t.appendChild(w),t}(e);return t}(e);n.dataset.carouselIndex=t,0===t&&n.classList.add("promo-slide-active"),a.appendChild(n)}),r.length>1){var s=document.getElementById("promo-carousel-nav"),c=document.getElementById("promo-carousel-dots");if(s&&(s.style.display="flex"),c){c.innerHTML="";for(var l=0;l<r.length;l++){var d=document.createElement("button");d.type="button",d.className="promo-carousel-dot"+(0===l?" active":""),d.dataset.index=l,d.setAttribute("aria-label","Go to product "+(l+1)),c.appendChild(d)}}function u(e){if(!o&&e!==i){o=!0;var t=a.querySelectorAll(".product-card, .label-wine, .label-beer"),n=c?c.querySelectorAll(".promo-carousel-dot"):[],r=t[i],s=t[e];r.classList.remove("promo-slide-active"),r.classList.add("promo-slide-exit"),s.classList.add("promo-slide-active"),n.forEach(function(t,n){t.classList.toggle("active",n===e)}),setTimeout(function(){r.classList.remove("promo-slide-exit"),i=e,o=!1},500)}}var m=document.querySelector(".promo-carousel-prev"),p=document.querySelector(".promo-carousel-next");m&&m.addEventListener("click",function(){u((i-1+r.length)%r.length)}),p&&p.addEventListener("click",function(){u((i+1)%r.length)}),c&&c.addEventListener("click",function(e){e.target.classList.contains("promo-carousel-dot")&&u(parseInt(e.target.dataset.index,10))}),setInterval(function(){a.querySelector(".product-notes.open, .notes-wrap.open")||u((i+1)%r.length)},12e3)}}(h,f)}).catch(function(){e.style.display="none"})}function h(e,t){try{var n=localStorage.getItem(e),a=parseInt(localStorage.getItem(t),10)||0;if(n)return{data:n,fresh:Date.now()-a<36e5}}catch(e){}return null}function g(e,t,n){try{localStorage.setItem(e,n),localStorage.setItem(t,String(Date.now()))}catch(e){}}function E(e){for(var t=[],n="",a=!1,r=0;r<e.length;r++){var i=e[r];'"'===i?a=!a:","!==i||a?n+=i:(t.push(n),n="")}return t.push(n),t}function C(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(e){for(var t=[],n="",a=!1,r=0;r<e.length;r++){var i=e[r];'"'===i?a=!a:","!==i||a?n+=i:(t.push(n),n="")}return t.push(n),t}function y(e,t,n){var a=document.createElement("button");a.type="button",a.className="product-reserve-btn",a.textContent="Reserve",a.addEventListener("click",function(){isReserved(n)||setReservationQty(t,1),window.location.href="products.html?sku="+encodeURIComponent(t.sku)}),e.appendChild(a)}}function fetchCSV(e){return fetch(e).then(function(e){if(!e.ok)throw new Error("HTTP "+e.status);return e.text()})}function createSkeletonCard(){var e=document.createElement("div");return e.className="skeleton-card",e.innerHTML='<div class="skeleton-element skeleton-brand"></div><div class="skeleton-element skeleton-title"></div><div class="skeleton-element skeleton-detail"></div><div class="skeleton-badges"><div class="skeleton-element skeleton-badge"></div><div class="skeleton-element skeleton-badge"></div></div><div class="skeleton-prices"><div class="skeleton-element skeleton-price-box"></div><div class="skeleton-element skeleton-price-box"></div></div><div class="skeleton-element skeleton-notes"></div>',e}function showCatalogSkeletons(e,t){if(e){var n=document.createElement("div");n.className="catalog-skeleton-grid";for(var a=0;a<t;a++)n.appendChild(createSkeletonCard());e.appendChild(n)}}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".nav-toggle"),t=document.querySelector(".nav-list");e&&t&&(e.addEventListener("click",function(){t.classList.toggle("open")}),t.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){t.classList.remove("open")})}));document.addEventListener("click",function(e){e.target.closest&&e.target.closest(".product-notes-btn")||document.querySelectorAll(".product-notes-tooltip.show").forEach(function(e){e.classList.remove("show")})});var n=document.body.getAttribute("data-page");if(n){var a=fetch("content/shared.json").then(function(e){return e.ok?e.json():{}}).catch(function(){return{}}),r=fetch("content/"+n+".json").then(function(e){return e.ok?e.json():{}}).catch(function(){return{}});Promise.all([a,r]).then(function(e){var t,n=e[0],a=e[1],r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);for(t in a)a.hasOwnProperty(t)&&(r[t]=a[t]);document.querySelectorAll("[data-content]").forEach(function(e){var t=e.getAttribute("data-content");void 0!==r[t]&&(e.textContent=r[t])})}).catch(function(){})}var i=document.querySelector(".site-header");if(i){var o=function(){document.documentElement.style.setProperty("--header-height",i.offsetHeight+"px")};o(),window.addEventListener("resize",o)}"products"===n&&(loadProducts(),initReservationBar(),initProductTabs()),"reservation"===n&&initReservationPage(),"about"!==n&&"contact"!==n||loadOpenHours(),"about"===n&&loadFAQ(),"home"===n&&(loadFeaturedProducts(),initReservationBar(),setupBeerWaitlistForm()),loadFooterHours(),loadSocialLinks()});var applyKitsFilters=null;function loadProducts(){var e=[],t=!1,n={type:[],brand:[],subcategory:[],time:[]},a=!1,r="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_CSV_URL?SHEETS_CONFIG.PUBLISHED_CSV_URL:null,i="sv-products-csv",o="sv-products-csv-ts";function s(e){try{localStorage.setItem(i,e),localStorage.setItem(o,String(Date.now()))}catch(e){}}var c,l=function(){try{var e=localStorage.getItem(i),t=parseInt(localStorage.getItem(o),10)||0;if(e)return{csv:e,fresh:Date.now()-t<36e5}}catch(e){}return null}(),d=document.getElementById("product-catalog");(!l&&d&&showCatalogSkeletons(d,6),l)?(c=Promise.resolve(l.csv),l.fresh||fetchCSV(r||"content/products.csv").then(s).catch(function(){})):(c=r?fetchCSV(r).catch(function(){return fetchCSV("content/products.csv")}):fetchCSV("content/products.csv")).then(s);function u(t,n,a){var r=document.getElementById(t);if(r){var i=document.createElement("span");i.className="catalog-filter-label",i.textContent=a,r.appendChild(i);var o=[];if(e.forEach(function(e){var t=e[n]||"";t&&-1===o.indexOf(t)&&o.push(t)}),"time"===n)o.sort(function(e,t){return(parseFloat(e)||0)-(parseFloat(t)||0)});else if("subcategory"===n){var s=["red","white","rosé","rose","fruit","specialty"];o.sort(function(e,t){var n=s.indexOf(e.toLowerCase()),a=s.indexOf(t.toLowerCase());return-1===n&&(n=s.length),-1===a&&(a=s.length),n-a})}else o.sort();var c=m("All",t,n);c.classList.add("active"),r.appendChild(c),o.forEach(function(e){r.appendChild(m(e,t,n))})}}function m(t,a,r){var i=document.createElement("button");return i.className="catalog-filter-btn",i.type="button",i.textContent=t,i.setAttribute("data-field",r),i.setAttribute("data-value",t),i.addEventListener("click",function(){if("All"===t)n[r]=[];else{var i=n[r].indexOf(t);-1!==i?n[r].splice(i,1):n[r].push(t)}var o=document.getElementById(a),s=o.querySelectorAll(".catalog-filter-btn");s.forEach(function(e){e.classList.remove("active")}),0===n[r].length?o.querySelector('[data-value="All"]').classList.add("active"):s.forEach(function(e){-1!==n[r].indexOf(e.getAttribute("data-value"))&&e.classList.add("active")}),f(),["type","brand","subcategory","time"].forEach(function(t){var a="filter-"+("subcategory"===t?"subcategory":t),r=document.getElementById(a);r&&r.querySelectorAll(".catalog-filter-btn").forEach(function(a){var r=a.getAttribute("data-value");if("All"!==r){var i=e.some(function(e){return e[t]===r&&function(e,t){for(var a=["type","brand","subcategory","time"],r=0;r<a.length;r++){var i=a[r];if(i!==t&&n[i].length>0&&-1===n[i].indexOf(e[i]))return!1}return!0}(e,t)});if(i)a.classList.remove("disabled"),a.disabled=!1;else{a.classList.add("disabled"),a.disabled=!0,a.classList.remove("active");var o=n[t].indexOf(r);-1!==o&&n[t].splice(o,1)}}})})}),i}function p(e){var t=e.retail_instore||e.retail_kit||"0";return parseFloat(t.replace("$",""))||0}function v(e){var t=(e||"").match(/(\d+)/);return t?parseInt(t[1],10):0}function f(){var r=document.getElementById("catalog-search"),i=r?r.value.toLowerCase():"",o=e.filter(function(e){if(n.type.length>0&&-1===n.type.indexOf(e.type))return!1;if(n.brand.length>0&&-1===n.brand.indexOf(e.brand))return!1;if(n.subcategory.length>0&&-1===n.subcategory.indexOf(e.subcategory))return!1;if(n.time.length>0&&-1===n.time.indexOf(e.time))return!1;if(a&&!(parseFloat(e.discount)>0))return!1;if(!i)return!0;var t=(e.name||"").toLowerCase(),r=(e.subcategory||"").toLowerCase(),o=(e.tasting_notes||"").toLowerCase(),s=(e.brand||"").toLowerCase();return-1!==t.indexOf(i)||-1!==r.indexOf(i)||-1!==o.indexOf(i)||-1!==s.indexOf(i)}),s=document.getElementById("catalog-sort"),c=s?s.value:"name-asc";o.sort(function(e,n){if(!t){var a="true"===(e.favorite||"").toLowerCase()?0:1,r="true"===(n.favorite||"").toLowerCase()?0:1;if(a!==r)return a-r;if(0===a&&0===r)return(e._favRand||0)-(n._favRand||0)}switch(c){case"name-asc":return(e.name||"").localeCompare(n.name||"");case"name-desc":return(n.name||"").localeCompare(e.name||"");case"price-asc":return p(e)-p(n);case"price-desc":return p(n)-p(e);case"time-asc":return v(e.time)-v(n.time);case"time-desc":return v(n.time)-v(e.time);default:return 0}}),function(e){var t=document.getElementById("product-catalog");if(!t)return;var n=t.querySelectorAll(".catalog-section, .catalog-no-results, .catalog-divider, .catalog-skeleton-grid");if(n.forEach(function(e){e.parentNode.removeChild(e)}),0===e.length){var a=document.createElement("p");return a.className="catalog-no-results",a.textContent="No products found.",void t.appendChild(a)}function r(e){return void 0!==e.available&&""!==e.available?parseInt(e.available,10)||0:parseInt(e.stock,10)||0}var i=e.filter(function(e){return r(e)>0}),o=e.filter(function(e){return r(e)<=0});if(h(t,"Currently available",i),i.length>0&&o.length>0){var s=document.createElement("div");s.className="section-icon catalog-divider";var c=document.createElement("img");c.src="images/Icon_green.svg",c.alt="",c.setAttribute("aria-hidden","true"),s.appendChild(c),t.appendChild(s)}h(t,"Available to order",o,"catalog-section--order")}(o)}function h(e,t,n,a){if(0!==n.length){var r=document.createElement("div");r.className="catalog-section"+(a?" "+a:"");var i=document.createElement("div");i.className="catalog-section-header";var o=document.createElement("h2");if(o.className="catalog-section-title",o.textContent=t,i.appendChild(o),"catalog-section--order"===a){var s=document.createElement("p");s.className="process-note",s.textContent="Allow up to 2 weeks for items to be ordered in.",i.appendChild(s)}r.appendChild(i);var c={},l=[];n.forEach(function(e){c[e.type]||(c[e.type]=[],l.push(e.type)),c[e.type].push(e)}),l.forEach(function(e){var t=document.createElement("div");t.className="product-group";var n=document.createElement("h3");n.className="product-group-title",n.textContent=e,t.appendChild(n);var a=document.createElement("div");a.className="product-grid",c[e].forEach(function(e){var t,n=(e.type||"").toLowerCase();t=-1!==n.indexOf("wine")?function(e){var t=getTintClass(e),n=document.createElement("div");n.className="label-wine"+(t?" "+t:""),e.sku&&n.setAttribute("data-sku",e.sku);var a=parseFloat(e.discount)||0;if(a>0){var r=document.createElement("span");r.className="discount-badge",r.textContent=Math.round(a)+"% OFF",n.appendChild(r)}var i=document.createElement("div");i.className="label-body";var o=document.createElement("div");o.className="brand",o.textContent=e.brand||"",i.appendChild(o);var s=document.createElement("div");s.className="ornament",i.appendChild(s);var c=document.createElement("div");if(c.className="wine-name",c.textContent=e.name||"",i.appendChild(c),e.subcategory){var l=document.createElement("div");l.className="subcategory",l.textContent=e.subcategory,i.appendChild(l)}if(e.time){var d=document.createElement("div");d.className="time",d.textContent=e.time,i.appendChild(d)}if(e.abv){var u=document.createElement("div");u.className="abv",u.textContent=e.abv+(-1===e.abv.toLowerCase().indexOf("abv")?" ABV":""),i.appendChild(u)}(e.tasting_notes||e.sku)&&i.appendChild(buildLabelNotesToggle(e));var m=document.createElement("div");m.className="notes-spacer",i.appendChild(m),n.appendChild(i);var p=(e.retail_instore||"").trim(),v=(e.retail_kit||"").trim();(p||v)&&n.appendChild(buildLabelPriceFooter(e));var f=document.createElement("div");return f.className="reserve-link",renderReserveControl(f,e,e.name+"|"+e.brand),n.appendChild(f),n}(e):-1!==n.indexOf("beer")?function(e){var t=getTintClass(e),n=document.createElement("div");n.className="label-beer"+(t?" "+t:""),e.sku&&n.setAttribute("data-sku",e.sku);var a=parseFloat(e.discount)||0;if(a>0){var r=document.createElement("span");r.className="discount-badge",r.textContent=Math.round(a)+"% OFF",n.appendChild(r)}var i=document.createElement("div");i.className="label-body";var o=document.createElement("div");o.className="sv-logo",o.innerHTML=SV_LOGO_SVG,i.appendChild(o);var s=document.createElement("div");s.className="brand",s.textContent=e.brand||"",i.appendChild(s);var c=document.createElement("div");c.className="gold-rule",i.appendChild(c);var l=document.createElement("div");if(l.className="beer-name",l.textContent=e.name||"",i.appendChild(l),e.subcategory){var d=document.createElement("div");d.className="subcategory",d.textContent=e.subcategory,i.appendChild(d)}if(e.time){var u=document.createElement("div");u.className="time",u.textContent=e.time,i.appendChild(u)}if(e.abv){var m=document.createElement("div");m.className="abv",m.textContent=e.abv+(-1===e.abv.toLowerCase().indexOf("abv")?" ABV":""),i.appendChild(m)}(e.tasting_notes||e.sku)&&i.appendChild(buildLabelNotesToggle(e));var p=document.createElement("div");p.className="notes-spacer",i.appendChild(p),n.appendChild(i);var v=(e.retail_instore||"").trim(),f=(e.retail_kit||"").trim();(v||f)&&n.appendChild(buildLabelPriceFooter(e));var h=document.createElement("div");return h.className="reserve-link",renderReserveControl(h,e,e.name+"|"+e.brand),n.appendChild(h),n}(e):function(e){var t=document.createElement("div");t.className="product-card",e.sku&&t.setAttribute("data-sku",e.sku);var n=document.createElement("div");n.className="product-card-header";var a=document.createElement("p");a.className="product-brand",a.textContent=e.brand,n.appendChild(a);var r=document.createElement("h4");r.textContent=e.name,n.appendChild(r),t.appendChild(n);var i,o,s,c=(e.batch_size_liters||"").trim();if(e.subcategory||e.time||c){var l=document.createElement("div");l.className="product-detail-row";var d=[];e.subcategory&&d.push(e.subcategory),e.time&&d.push(e.time),c&&d.push(c+"L");for(var u=0;u<d.length;u++){if(u>0){var m=document.createElement("span");m.className="detail-sep",m.textContent="·",l.appendChild(m)}var p=document.createElement("span");p.textContent=d[u],l.appendChild(p)}t.appendChild(l)}if(e.tasting_notes){var v=document.createElement("div");v.className="product-notes";var f=document.createElement("button");f.type="button",f.className="product-notes-toggle",f.setAttribute("aria-expanded","false"),f.innerHTML='More Information <span class="product-notes-chevron">&#9660;</span>';var h=document.createElement("div");if(h.className="product-notes-body",e.sku){var g=document.createElement("div");g.className="product-notes-image";var E=document.createElement("img");E.src="images/products/"+e.sku+".png",E.alt=e.name||"Product image",E.loading="lazy",E.onerror=function(){this.parentElement.remove()},g.appendChild(E),h.appendChild(g)}var C=document.createElement("div");C.className="product-notes-text";var b=document.createElement("p");b.textContent=e.tasting_notes,C.appendChild(b),h.appendChild(C),f.addEventListener("click",(i=v,o=f,s=e,function(){var e=i.classList.toggle("open");o.setAttribute("aria-expanded",e?"true":"false"),e&&trackEvent("detail",s.sku||"",s.name||"")})),v.appendChild(f),v.appendChild(h),t.appendChild(v)}var y=parseFloat(e.discount)||0;if(y>0){var S=document.createElement("span");S.className="product-discount-badge",S.textContent=Math.round(y)+"% OFF",t.appendChild(S)}var L="TRUE"===(e.pricing_from||"").trim().toUpperCase()?"+":"",N=(e.retail_instore||"").trim(),I=(e.retail_kit||"").trim();if(N||I){var _=document.createElement("div");if(_.className="product-prices",N){var x=document.createElement("div");if(x.className="product-price-box",y>0){var k=(parseFloat(N.replace(/[^0-9.]/g,""))*(1-y/100)).toFixed(2);x.innerHTML='<span class="product-price-label">Ferment in store</span><span class="product-price-original">'+N+'</span><span class="product-price-value">$'+k+L+"</span>"}else x.innerHTML='<span class="product-price-label">Ferment in store</span><span class="product-price-value">'+N+L+"</span>";_.appendChild(x)}if(I){var F=document.createElement("div");if(F.className="product-price-box",y>0){var T=(parseFloat(I.replace(/[^0-9.]/g,""))*(1-y/100)).toFixed(2);F.innerHTML='<span class="product-price-label">Kit only</span><span class="product-price-original">'+I+'</span><span class="product-price-value">$'+T+L+"</span>"}else F.innerHTML='<span class="product-price-label">Kit only</span><span class="product-price-value">'+I+L+"</span>";_.appendChild(F)}t.appendChild(_)}var O=document.createElement("div");return O.className="product-reserve-wrap",renderReserveControl(O,e,e.name+"|"+e.brand),t.appendChild(O),t}(e),a.appendChild(t)}),t.appendChild(a),r.appendChild(t)}),e.appendChild(r)}}c.then(function(n){for(var r=n.trim().split("\n"),i=r[0].split(","),o=1;o<r.length;o++){var s=parseCSVLine(r[o]);if(!(s.length<i.length)){for(var c={},l=0;l<i.length;l++)c[i[l].trim()]=s[l].trim();(c.name||c.sku)&&(c.hide&&"true"===c.hide.toLowerCase()||("true"===(c.favorite||"").toLowerCase()&&(c._favRand=Math.random()),e.push(c)))}}u("filter-type","type","Type:"),u("filter-brand","brand","Brand:"),u("filter-subcategory","subcategory","Style:"),u("filter-time","time","Brew Time:"),function(){var t=e.some(function(e){return parseFloat(e.discount)>0}),n=document.getElementById("filter-sale");if(!n||!t)return void(n&&(n.style.display="none"));var r=document.createElement("span");r.className="catalog-filter-label",r.textContent="Sale:",n.appendChild(r);var i=document.createElement("button");i.className="catalog-filter-btn",i.type="button",i.textContent="On Sale",i.addEventListener("click",function(){a=!a,i.classList.toggle("active",a),f()}),n.appendChild(i)}(),f();var d=new URLSearchParams(window.location.search).get("sku");if(d){var m=0;setTimeout(function e(){var t=document.querySelector('[data-sku="'+d+'"]');t?(t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("highlight"),setTimeout(function(){t.classList.remove("highlight")},2e3)):m<10&&(m++,setTimeout(e,100))},50)}applyKitsFilters=f;var p,v=document.getElementById("catalog-search");v&&v.addEventListener("input",function(){clearTimeout(p),p=setTimeout(f,180)});var h=document.getElementById("catalog-sort");h&&h.addEventListener("change",function(){t=!0,f()});var g=document.getElementById("catalog-toggle"),E=document.getElementById("catalog-collapsible");g&&E&&g.addEventListener("click",function(){var e="true"===g.getAttribute("aria-expanded");g.setAttribute("aria-expanded",String(!e)),E.classList.toggle("open")})}).catch(function(){})}function initProductTabs(){var e=document.getElementById("product-tabs");if(e){var t=!1,n=!1;e.addEventListener("click",function(a){var r=a.target.closest(".product-tab-btn");if(r){var i=r.getAttribute("data-product-tab");e.querySelectorAll(".product-tab-btn").forEach(function(e){e.classList.remove("active")}),r.classList.add("active");["catalog-controls-kits","catalog-controls-ingredients","catalog-controls-services"].forEach(function(e){var t=document.getElementById(e);t&&t.classList.add("hidden")});var o=document.getElementById("catalog-controls-"+i);o&&o.classList.remove("hidden");var s=document.getElementById("kits-process-note");s&&(s.style.display="kits"===i?"":"none"),document.querySelectorAll(".reservation-bar").forEach(function(e){"kits"===i?updateReservationBar():e.classList.add("hidden")});var c=document.getElementById("product-catalog");if(c)c.querySelectorAll(".catalog-section, .catalog-no-results, .catalog-divider, .catalog-skeleton-grid").forEach(function(e){e.parentNode.removeChild(e)});"kits"===i?applyKitsFilters&&applyKitsFilters():"ingredients"===i?t?renderIngredients():(t=!0,loadIngredients(function(){})):"services"===i&&(n?renderServices():(n=!0,loadServices(function(){})))}});var a=document.getElementById("ingredient-toggle"),r=document.getElementById("ingredient-collapsible");a&&r&&a.addEventListener("click",function(){var e="true"===a.getAttribute("aria-expanded");a.setAttribute("aria-expanded",String(!e)),r.classList.toggle("open")})}}var _allIngredients=[],_ingredientFilters={unit:[]};function loadIngredients(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_INGREDIENTS_CSV_URL?SHEETS_CONFIG.PUBLISHED_INGREDIENTS_CSV_URL:null,n="sv-ingredients-csv",a="sv-ingredients-csv-ts";function r(e){try{localStorage.setItem(n,e),localStorage.setItem(a,String(Date.now()))}catch(e){}}var i,o=function(){try{var e=localStorage.getItem(n),t=parseInt(localStorage.getItem(a),10)||0;if(e)return{csv:e,fresh:Date.now()-t<36e5}}catch(e){}return null}();o?(i=Promise.resolve(o.csv),o.fresh||fetchCSV(t||"content/ingredients.csv").then(r).catch(function(){})):(i=t?fetchCSV(t).catch(function(){return fetchCSV("content/ingredients.csv")}):fetchCSV("content/ingredients.csv")).then(r);i.then(function(t){var n=t.trim().split("\n"),a=n[0].split(",");_allIngredients=[];for(var r=1;r<n.length;r++){var i=parseCSVLine(n[r]);if(!(i.length<a.length)){for(var o={},s=0;s<a.length;s++)o[a[s].trim()]=i[s].trim();(o.name||o.sku)&&(o.hide&&"true"===o.hide.toLowerCase()||_allIngredients.push(o))}}buildIngredientFilters(),renderIngredients(),wireIngredientEvents(),e&&e()}).catch(function(){})}function buildIngredientFilters(){var e=document.getElementById("filter-unit");if(e&&!(e.children.length>0)){var t=document.createElement("span");t.className="catalog-filter-label",t.textContent="Unit:",e.appendChild(t);var n=[];_allIngredients.forEach(function(e){var t=(e.unit||"").trim();t&&-1===n.indexOf(t)&&n.push(t)}),n.sort();var a=document.createElement("button");a.className="catalog-filter-btn active",a.type="button",a.textContent="All",a.setAttribute("data-value","All"),a.addEventListener("click",function(){_ingredientFilters.unit=[],e.querySelectorAll(".catalog-filter-btn").forEach(function(e){e.classList.remove("active")}),a.classList.add("active"),renderIngredients()}),e.appendChild(a),n.forEach(function(t){var n=document.createElement("button");n.className="catalog-filter-btn",n.type="button",n.textContent=t,n.setAttribute("data-value",t),n.addEventListener("click",function(){var n=_ingredientFilters.unit.indexOf(t);-1!==n?_ingredientFilters.unit.splice(n,1):_ingredientFilters.unit.push(t);var a=e.querySelectorAll(".catalog-filter-btn");a.forEach(function(e){e.classList.remove("active")}),0===_ingredientFilters.unit.length?e.querySelector('[data-value="All"]').classList.add("active"):a.forEach(function(e){-1!==_ingredientFilters.unit.indexOf(e.getAttribute("data-value"))&&e.classList.add("active")}),renderIngredients()}),e.appendChild(n)})}}function wireIngredientEvents(){var e,t=document.getElementById("ingredient-search");t&&t.addEventListener("input",function(){clearTimeout(e),e=setTimeout(renderIngredients,180)});var n=document.getElementById("ingredient-sort");n&&n.addEventListener("change",function(){renderIngredients()})}function renderIngredients(){var e=document.getElementById("product-catalog");if(e){e.querySelectorAll(".catalog-section, .catalog-no-results, .catalog-divider, .catalog-skeleton-grid").forEach(function(e){e.parentNode.removeChild(e)});var t=document.getElementById("ingredient-search"),n=t?t.value.toLowerCase():"",a=_allIngredients.filter(function(e){if(_ingredientFilters.unit.length>0&&-1===_ingredientFilters.unit.indexOf(e.unit))return!1;if(!n)return!0;var t=(e.name||"").toLowerCase(),a=(e.description||"").toLowerCase();return-1!==t.indexOf(n)||-1!==a.indexOf(n)}),r=document.getElementById("ingredient-sort"),i=r?r.value:"name-asc";if(a.sort(function(e,t){switch(i){case"name-asc":return(e.name||"").localeCompare(t.name||"");case"name-desc":return(t.name||"").localeCompare(e.name||"");case"price-asc":return(parseFloat(e.price_per_unit)||0)-(parseFloat(t.price_per_unit)||0);case"price-desc":return(parseFloat(t.price_per_unit)||0)-(parseFloat(e.price_per_unit)||0);default:return 0}}),0===a.length){var o=document.createElement("p");return o.className="catalog-no-results",o.textContent="No ingredients or supplies found.",void e.appendChild(o)}var s=a.filter(function(e){return(parseInt(e.stock,10)||0)>0}),c=a.filter(function(e){return(parseInt(e.stock,10)||0)<=0});if(renderIngredientSection(e,"In stock",s),s.length>0&&c.length>0){var l=document.createElement("div");l.className="section-icon catalog-divider";var d=document.createElement("img");d.src="images/Icon_green.svg",d.alt="",d.setAttribute("aria-hidden","true"),l.appendChild(d),e.appendChild(l)}renderIngredientSection(e,"Out of stock",c,"catalog-section--order")}}function renderIngredientSection(e,t,n,a){if(0!==n.length){var r=document.createElement("div");r.className="catalog-section"+(a?" "+a:"");var i=document.createElement("div");i.className="catalog-section-header";var o=document.createElement("h2");o.className="catalog-section-title",o.textContent=t,i.appendChild(o),r.appendChild(i);var s=document.createElement("div");s.className="product-grid",n.forEach(function(e){var t=document.createElement("div");t.className="product-card";var n=document.createElement("div");n.className="product-card-header";var a=document.createElement("h4");a.textContent=e.name,n.appendChild(a),t.appendChild(n);var r,i,o=(e.unit||"").trim(),c=(e.price_per_unit||"").trim();if(o||c){var l=document.createElement("div");l.className="product-detail-row";var d=[];o&&d.push(o),c&&d.push("$"===c.charAt(0)?c:"$"+c);for(var u=0;u<d.length;u++){if(u>0){var m=document.createElement("span");m.className="detail-sep",m.textContent="·",l.appendChild(m)}var p=document.createElement("span");p.textContent=d[u],l.appendChild(p)}t.appendChild(l)}if(e.description){var v=document.createElement("div");v.className="product-notes";var f=document.createElement("button");f.type="button",f.className="product-notes-toggle",f.setAttribute("aria-expanded","false"),f.innerHTML='More Information <span class="product-notes-chevron">&#9660;</span>';var h=document.createElement("div");h.className="product-notes-body";var g=document.createElement("p");g.textContent=e.description,h.appendChild(g),f.addEventListener("click",(r=v,i=f,function(){var e=r.classList.toggle("open");i.setAttribute("aria-expanded",e?"true":"false")})),v.appendChild(f),v.appendChild(h),t.appendChild(v)}var E=parseInt(e.stock,10)||0,C=document.createElement("span");C.className="stock-badge",E>0?(C.classList.add("stock-badge--in"),C.textContent="In Stock"):(C.classList.add("stock-badge--out"),C.textContent="Out of Stock"),t.appendChild(C),s.appendChild(t)}),r.appendChild(s),e.appendChild(r)}}var _allServices=[];function loadServices(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_SERVICES_CSV_URL?SHEETS_CONFIG.PUBLISHED_SERVICES_CSV_URL:null,n="sv-services-csv",a="sv-services-csv-ts";function r(e){try{localStorage.setItem(n,e),localStorage.setItem(a,String(Date.now()))}catch(e){}}var i,o=function(){try{var e=localStorage.getItem(n),t=parseInt(localStorage.getItem(a),10)||0;if(e)return{csv:e,fresh:Date.now()-t<36e5}}catch(e){}return null}();o?(i=Promise.resolve(o.csv),o.fresh||fetchCSV(t||"content/services.csv").then(r).catch(function(){})):(i=t?fetchCSV(t).catch(function(){return fetchCSV("content/services.csv")}):fetchCSV("content/services.csv")).then(r);i.then(function(t){var n=t.trim().split("\n"),a=n[0].split(",");_allServices=[];for(var r=1;r<n.length;r++){var i=parseCSVLine(n[r]);if(!(i.length<a.length)){for(var o={},s=0;s<a.length;s++)o[a[s].trim()]=i[s].trim();(o.name||o.sku)&&(o.hide&&"true"===o.hide.toLowerCase()||_allServices.push(o))}}renderServices(),wireServiceEvents(),e&&e()}).catch(function(){})}function wireServiceEvents(){var e,t=document.getElementById("service-search");t&&t.addEventListener("input",function(){clearTimeout(e),e=setTimeout(renderServices,180)})}function renderServices(){var e=document.getElementById("product-catalog");if(e){e.querySelectorAll(".catalog-section, .catalog-no-results, .catalog-divider, .catalog-skeleton-grid").forEach(function(e){e.parentNode.removeChild(e)});var t=document.getElementById("service-search"),n=t?t.value.toLowerCase():"",a=_allServices.filter(function(e){if(!n)return!0;var t=(e.name||"").toLowerCase(),a=(e.desription||e.description||"").toLowerCase();return-1!==t.indexOf(n)||-1!==a.indexOf(n)});if(0===a.length){var r=document.createElement("p");return r.className="catalog-no-results",r.textContent="No services found.",void e.appendChild(r)}var i=document.createElement("div");i.className="catalog-section";var o=document.createElement("div");o.className="catalog-section-header";var s=document.createElement("h2");s.className="catalog-section-title",s.textContent="Our Services",o.appendChild(s),i.appendChild(o);var c=document.createElement("div");c.className="product-grid",a.forEach(function(e){var t=document.createElement("div");t.className="product-card";var n=document.createElement("div");n.className="product-card-header";var a=document.createElement("h4");a.textContent=e.name,n.appendChild(a),t.appendChild(n);var r=(e.desription||e.description||"").trim();if(r){var i=document.createElement("p");i.className="service-description",i.textContent=r,t.appendChild(i)}var o=(e.price||"").trim(),s=parseFloat(e.discount)||0;if(s>0){var l=document.createElement("span");l.className="product-discount-badge",l.textContent=Math.round(s)+"% OFF",t.appendChild(l)}if(o){var d=document.createElement("div");d.className="product-prices service-price";var u=document.createElement("div");if(u.className="product-price-box",s>0){var m=(parseFloat(o.replace(/[^0-9.]/g,""))*(1-s/100)).toFixed(2);u.innerHTML='<span class="product-price-label">Price</span><span class="product-price-original">'+("$"===o.charAt(0)?o:"$"+o)+'</span><span class="product-price-value">$'+m+"</span>"}else u.innerHTML='<span class="product-price-label">Price</span><span class="product-price-value">'+("$"===o.charAt(0)?o:"$"+o)+"</span>";d.appendChild(u),t.appendChild(d)}c.appendChild(t)}),i.appendChild(c),e.appendChild(i)}}function parseCSVLine(e){for(var t=[],n="",a=!1,r=0;r<e.length;r++){var i=e[r];a?'"'===i?r+1<e.length&&'"'===e[r+1]?(n+='"',r++):a=!1:n+=i:'"'===i?a=!0:","===i?(t.push(n),n=""):n+=i}return t.push(n),t}var RESERVATION_KEY="sv-reservation";function getReservation(){try{return JSON.parse(localStorage.getItem(RESERVATION_KEY))||[]}catch(e){return[]}}function saveReservation(e){localStorage.setItem(RESERVATION_KEY,JSON.stringify(e))}function getReservedQty(e){for(var t=getReservation(),n=0;n<t.length;n++)if(t[n].name+"|"+t[n].brand===e)return t[n].qty||1;return 0}function isReserved(e){return getReservedQty(e)>0}function setReservationQty(e,t){for(var n=getReservation(),a=e.name+"|"+e.brand,r=-1,i=0;i<n.length;i++)if(n[i].name+"|"+n[i].brand===a){r=i;break}if(t<=0)-1!==r&&n.splice(r,1);else if(-1!==r)n[r].qty=t;else{var o=void 0!==e.available&&""!==e.available?parseInt(e.available,10)||0:parseInt(e.stock,10)||0;n.push({name:e.name,brand:e.brand,price:e.retail_instore||e.retail_kit||"",discount:e.discount||"",stock:o,time:e.time||"",qty:t})}saveReservation(n),updateReservationBar()}function renderReserveControl(e,t,n){e.innerHTML="";var a=getReservedQty(n);if(0===a){var r=document.createElement("button");r.type="button",r.className="product-reserve-btn",r.textContent="Reserve",r.addEventListener("click",function(){setReservationQty(t,1),trackEvent("reserve",t.sku||"",t.name||""),renderReserveControl(e,t,n)}),e.appendChild(r)}else{var i=document.createElement("div");i.className="product-qty-controls";var o=document.createElement("button");o.type="button",o.className="qty-btn",o.textContent="−",o.addEventListener("click",function(){setReservationQty(t,a-1),renderReserveControl(e,t,n)});var s=document.createElement("span");s.className="qty-value",s.textContent=a;var c=document.createElement("button");c.type="button",c.className="qty-btn",c.textContent="+",c.addEventListener("click",function(){setReservationQty(t,a+1),renderReserveControl(e,t,n)}),i.appendChild(o),i.appendChild(s),i.appendChild(c),e.appendChild(i)}}function initReservationBar(){var e='<div class="container"><span class="reservation-bar-count"></span><a href="reservation.html" class="reservation-bar-link">Confirm Reservation &rarr;</a></div>',t=document.createElement("div");t.className="reservation-bar hidden",t.id="reservation-bar",t.innerHTML=e,document.body.appendChild(t);var n=document.getElementById("product-catalog");if(n){var a=document.createElement("div");a.className="reservation-bar reservation-bar-inline hidden",a.id="reservation-bar-inline",a.innerHTML=e,n.parentNode.insertBefore(a,n)}updateReservationBar()}function updateReservationBar(){var e=document.querySelectorAll(".reservation-bar");if(0!==e.length){var t=getReservation(),n=0;t.forEach(function(e){n+=e.qty||1});for(var a=n+(1===n?" kit selected":" kits selected"),r=0;r<e.length;r++){var i=e[r].querySelector(".reservation-bar-count");n>0?(e[r].classList.remove("hidden"),i&&(i.textContent=a)):e[r].classList.add("hidden")}}}function initReservationPage(){renderReservationItems(),loadTimeslots(),setupReservationForm()}function refreshReservationDependents(){loadTimeslots();var e=document.querySelector('input[name="timeslot"]:checked');if(e)updateCompletionEstimate(e.value);else{var t=document.getElementById("completion-estimate");t&&(t.style.display="none")}}function renderReservationItems(){var e=document.getElementById("reservation-items"),t=document.getElementById("reservation-empty");if(e){var n=getReservation();if(e.innerHTML="",0!==n.length){t&&(t.style.display="none"),n.forEach(function(t){var n=document.createElement("div");n.className="reservation-item";var a=document.createElement("div");a.className="reservation-item-info";var r=document.createElement("span");r.className="reservation-item-name",r.textContent=t.name,a.appendChild(r);var i=document.createElement("span");if(i.className="reservation-item-brand",i.textContent=t.brand,a.appendChild(i),t.time){var o=document.createElement("span");o.className="reservation-item-time",o.textContent=t.time,a.appendChild(o)}if(t.price){var s=document.createElement("span");s.className="reservation-item-price";var c=t.price;if(t.discount&&parseFloat(t.discount)>0)c="$"+((parseFloat((t.price||"0").replace("$",""))||0)*(1-parseFloat(t.discount)/100)).toFixed(2);s.textContent=c,a.appendChild(s)}if(t.discount&&parseFloat(t.discount)>0){var l=document.createElement("span");l.className="reservation-item-discount",l.textContent=Math.round(parseFloat(t.discount))+"% OFF",a.appendChild(l)}var d=parseInt(t.stock,10)||0,u=document.createElement("span");u.className="reservation-item-stock",d>0?(u.classList.add("reservation-item-stock--available"),u.textContent="In Stock"):(u.classList.add("reservation-item-stock--order"),u.textContent="Needs Ordering"),a.appendChild(u),n.appendChild(a);var m=document.createElement("div");m.className="reservation-item-actions";var p=document.createElement("div");p.className="product-qty-controls";var v,f=document.createElement("button");f.type="button",f.className="qty-btn",f.textContent="−",f.addEventListener("click",(v=t,function(){for(var e=getReservation(),t=0;t<e.length;t++)if(e[t].name+"|"+e[t].brand==v.name+"|"+v.brand){e[t].qty=(e[t].qty||1)-1,e[t].qty<=0&&e.splice(t,1);break}saveReservation(e),renderReservationItems(),refreshReservationDependents()}));var h=document.createElement("span");h.className="qty-value",h.textContent=t.qty||1;var g=document.createElement("button");g.type="button",g.className="qty-btn",g.textContent="+",g.addEventListener("click",function(e){return function(){for(var t=getReservation(),n=0;n<t.length;n++)if(t[n].name+"|"+t[n].brand==e.name+"|"+e.brand){t[n].qty=(t[n].qty||1)+1;break}saveReservation(t),renderReservationItems(),refreshReservationDependents()}}(t)),p.appendChild(f),p.appendChild(h),p.appendChild(g),m.appendChild(p);var E=document.createElement("button");E.type="button",E.className="reservation-item-remove",E.textContent="Remove",E.addEventListener("click",function(){saveReservation(getReservation().filter(function(e){return e.name+"|"+e.brand!=t.name+"|"+t.brand})),renderReservationItems(),refreshReservationDependents()}),m.appendChild(E),n.appendChild(m),e.appendChild(n)});var a=0;n.forEach(function(e){var t=parseFloat((e.price||"0").replace("$",""))||0,n=parseFloat(e.discount)||0;n>0&&(t*=1-n/100),a+=t*(e.qty||1)});var r=document.createElement("div");r.className="reservation-subtotal",r.innerHTML='<span>Estimated Subtotal <span class="reservation-disclaimer">— Final pricing may vary.</span></span><span>$'+a.toFixed(2)+"</span>",e.appendChild(r);var i=document.createElement("div");i.className="reservation-clear-wrap";var o=document.createElement("button");o.type="button",o.className="btn-secondary reservation-clear-btn",o.textContent="Clear Selected Items",o.addEventListener("click",function(){saveReservation([]),renderReservationItems(),refreshReservationDependents()}),i.appendChild(o),e.appendChild(i)}else t&&(t.style.display="")}}function loadTimeslots(){var e=document.getElementById("timeslot-groups");if(e){var t="undefined"!=typeof SHEETS_CONFIG&&SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL?SHEETS_CONFIG.PUBLISHED_SCHEDULE_CSV_URL:"content/timeslots.csv";fetch(t).then(function(e){return e.text()}).then(function(t){var n=t.trim().split("\n");if(!(n.length<2)){for(var a=n[0].split(","),r=[],i=1;i<n.length;i++){var o=n[i].split(",");if(!(o.length<3)){for(var s={},c=0;c<a.length;c++)s[a[c].trim()]=o[c].trim();r.push(s)}}r=r.filter(function(e){return!e.status||"available"===e.status});var l=getReservation().some(function(e){return 0===(e.stock||0)}),d=null;l&&((d=new Date).setDate(d.getDate()+14),d.setHours(0,0,0,0));var u={};r.forEach(function(e){u[e.date]||(u[e.date]=[]),u[e.date].push(e)});var m=Object.keys(u).sort();if(0!==m.length){new Date(m[0]+"T00:00:00"),new Date(m[m.length-1]+"T00:00:00");var p=[];m.forEach(function(e){var t=e.substring(0,7);-1===p.indexOf(t)&&p.push(t)}),p.sort();for(var v=(new Date).getFullYear()+"-"+String((new Date).getMonth()+1).padStart(2,"0"),f=0,h=0;h<p.length;h++){if(p[h]>=v){f=h;break}f=h}if(e.innerHTML="",l){var g=document.createElement("p");g.className="timeslot-notice",g.textContent="Some of your selected items need to be ordered in. Timeslots within the next 2 weeks are not available.",e.appendChild(g)}var E=document.createElement("div");E.className="cal",e.appendChild(E);var C=document.createElement("div");C.className="cal-slots",e.appendChild(C);var b=null,y=0;!function e(){E.innerHTML="";var t=p[f],n=parseInt(t.substring(0,4),10),a=parseInt(t.substring(5,7),10)-1,r=document.createElement("div");r.className="cal-header";var i=document.createElement("button");i.type="button",i.className="cal-nav",i.textContent="‹",i.disabled=0===f,i.addEventListener("click",function(){f>0&&(f--,e())});var o=document.createElement("span");o.className="cal-title",o.textContent=["January","February","March","April","May","June","July","August","September","October","November","December"][a]+" "+n;var s=document.createElement("button");s.type="button",s.className="cal-nav",s.textContent="›",s.disabled=f===p.length-1,s.addEventListener("click",function(){f<p.length-1&&(f++,e())}),r.appendChild(i),r.appendChild(o),r.appendChild(s),E.appendChild(r);var c=document.createElement("div");c.className="cal-grid",["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(function(e){var t=document.createElement("div");t.className="cal-dow",t.textContent=e,c.appendChild(t)});var l=new Date(n,a,1).getDay(),m=new Date(n,a+1,0).getDate(),v=new Date;v.setHours(0,0,0,0);for(var h=v.getFullYear()+"-"+String(v.getMonth()+1).padStart(2,"0")+"-"+String(v.getDate()).padStart(2,"0"),g=0;g<l;g++){var C=document.createElement("div");C.className="cal-day cal-day--disabled",c.appendChild(C)}for(var y=1;y<=m;y++){var L=n+"-"+String(a+1).padStart(2,"0")+"-"+String(y).padStart(2,"0"),N=document.createElement("button");N.type="button",N.className="cal-day",N.textContent=y,N.setAttribute("data-date",L);var I=new Date(L+"T00:00:00"),_=I<v,x=!!u[L],k=x&&u[L].some(function(e){return"available"===e.status}),F=d&&I<d;if(L===h&&N.classList.add("cal-day--today"),L===b&&N.classList.add("cal-day--selected"),_||!x||F){if(N.classList.add("cal-day--disabled"),N.disabled=!0,!_&&!x&&!F){N.classList.add("cal-day--closed");var T=document.createElement("span");T.className="cal-day-closed",T.textContent="Closed",N.appendChild(T)}}else k?N.classList.add("cal-day--available"):N.classList.add("cal-day--full");(function(t){N.addEventListener("click",function(){b=t,e(),S(t)})})(L),c.appendChild(N)}E.appendChild(c)}(),e.addEventListener("change",function(e){"timeslot"===e.target.name&&updateCompletionEstimate(e.target.value)})}}function S(e){C.innerHTML="";var t=u[e];if(t){var n=new Date(e+"T00:00:00"),a=document.createElement("h3");a.className="cal-slots-heading",a.textContent=n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),C.appendChild(a);var r=document.createElement("div");r.className="cal-slots-grid",t.forEach(function(t){var n=document.createElement("div");n.className="timeslot-option";var a="booked"===t.status;a&&n.classList.add("booked");var i="timeslot-"+y;y++;var o=document.createElement("input");o.type="radio",o.name="timeslot",o.id=i,o.value=e+" "+t.time,a&&(o.disabled=!0);var s=document.createElement("label");s.setAttribute("for",i),s.textContent=t.time,n.appendChild(o),n.appendChild(s),r.appendChild(n)}),C.appendChild(r)}}}).catch(function(){e.innerHTML="<p>Unable to load timeslots.</p>"})}}function updateCompletionEstimate(e){var t=document.getElementById("completion-estimate"),n=document.getElementById("completion-estimate-text");if(t&&n){var a=getReservation();if(0!==a.length){var r=0;if(a.forEach(function(e){var t=parseInt(e.time,10);!isNaN(t)&&t>r&&(r=t)}),0!==r){var i=e.split(" ")[0],o=new Date(i+"T00:00:00");if(isNaN(o.getTime()))t.style.display="none";else{var s=new Date(o);s.setDate(s.getDate()+7*r);var c=new Date(s);c.setDate(c.getDate()+6);var l={month:"long",day:"numeric"},d=s.toLocaleDateString("en-US",l),u=s.getMonth()===c.getMonth()?{day:"numeric"}:l,m=c.toLocaleDateString("en-US",u),p=c.getFullYear();n.textContent="Estimated ready the week of "+d+"–"+m+", "+p+" (approximately "+r+" week"+(1!==r?"s":"")+" from your appointment). This is an estimate — actual times may vary.",t.style.display=""}}else t.style.display="none"}else t.style.display="none"}}var GOOGLE_FORM_URL="https://docs.google.com/forms/d/e/1FAIpQLSc-m7i0zWKTkT11nF1an6PXdR6JejpJNvDJOYPBkxz4wOYO9A/formResponse",GOOGLE_FORM_FIELDS={name:"entry.1466333029",email:"entry.763864451",phone:"entry.304343590",products:"entry.1291378806",timeslot:"entry.286083838"},BEER_WAITLIST_FORM_URL="https://docs.google.com/forms/d/e/YOUR_BEER_WAITLIST_FORM_ID/formResponse",BEER_WAITLIST_FIELDS={email:"entry.YOUR_EMAIL_ENTRY_ID"};function setupBeerWaitlistForm(){var e=document.getElementById("beer-waitlist-form");e&&e.addEventListener("submit",function(t){t.preventDefault();var n=document.getElementById("beer-waitlist-email").value.trim();if(n){var a=document.createElement("form");a.method="POST",a.action=BEER_WAITLIST_FORM_URL,a.target="beer-waitlist-iframe",a.style.display="none";var r=document.createElement("input");r.name=BEER_WAITLIST_FIELDS.email,r.value=n,a.appendChild(r),document.body.appendChild(a),a.submit(),document.body.removeChild(a),e.style.display="none",document.getElementById("beer-waitlist-confirm").style.display=""}})}function setupReservationForm(){var e=document.getElementById("reservation-form");if(e){var t=document.getElementById("res-loaded-at");t&&(t.value=String(Date.now())),e.addEventListener("submit",function(t){t.preventDefault();var n=document.getElementById("res-website");if(!n||!n.value){var a=parseInt(document.getElementById("res-loaded-at").value,10)||0;if(!(Date.now()-a<3e3)){var r=getReservation();if(0!==r.length){var i=document.querySelector('input[name="timeslot"]:checked');if(i){var o=document.getElementById("res-name").value.trim(),s=document.getElementById("res-email").value.trim(),c=document.getElementById("res-phone").value.trim();if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){var l=c.replace(/\D/g,"");if(l.length<10||l.length>15)alert("Please enter a valid phone number (at least 10 digits).");else{var d=r.map(function(e){var t=e.qty||1;return e.name+(t>1?" x"+t:"")}).join(", "),u=i.value,m=e.querySelector('button[type="submit"]');m&&(m.disabled=!0,m.setAttribute("data-original-text",m.textContent),m.textContent="Processing...",m.classList.add("btn-loading"));var p=document.createElement("form");p.method="POST",p.action=GOOGLE_FORM_URL,p.target="reservation-iframe",p.style.display="none",[{name:GOOGLE_FORM_FIELDS.name,value:o},{name:GOOGLE_FORM_FIELDS.email,value:s},{name:GOOGLE_FORM_FIELDS.phone,value:c},{name:GOOGLE_FORM_FIELDS.products,value:d},{name:GOOGLE_FORM_FIELDS.timeslot,value:u}].forEach(function(e){var t=document.createElement("input");t.type="hidden",t.name=e.name,t.value=e.value,p.appendChild(t)}),document.body.appendChild(p),p.submit(),document.body.removeChild(p),localStorage.removeItem(RESERVATION_KEY),document.getElementById("reservation-list").style.display="none",document.getElementById("timeslot-picker").style.display="none",document.getElementById("reservation-form-section").style.display="none",document.getElementById("reservation-confirm").style.display=""}}else alert("Please enter a valid email address.")}else alert("Please select a timeslot.")}else alert("Please add at least one product to your reservation.")}}})}}